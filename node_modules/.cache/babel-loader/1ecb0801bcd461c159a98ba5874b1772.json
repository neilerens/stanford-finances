{"ast":null,"code":"import React, { useMemo, useState, createElement, Fragment, useRef, useEffect } from 'react';\nimport { usePropertyAccessor, useValueFormatter, degreesToRadians, radiansToDegrees, Container, useDimensions, bindDefs, SvgWrapper, ResponsiveWrapper, useTheme, getRelativeCursor } from '@nivo/core';\nimport { useArcGenerator, computeArcBoundingBox, ArcsLayer, ArcLinkLabelsLayer, ArcLabelsLayer, useArcLabels, useArcLinkLabels, drawCanvasArcLinkLabels, drawCanvasArcLabels, findArcUnderCursor } from '@nivo/arcs';\nimport { BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { pie } from 'd3-shape';\nimport { useOrdinalColorScale, useInheritedColor } from '@nivo/colors';\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar PieLegends = function PieLegends(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      legends = _ref.legends,\n      dataWithArc = _ref.dataWithArc;\n  return React.createElement(React.Fragment, null, legends.map(function (legend, i) {\n    return React.createElement(BoxLegendSvg, Object.assign({\n      key: i\n    }, legend, {\n      containerWidth: width,\n      containerHeight: height,\n      data: dataWithArc\n    }));\n  }));\n};\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar PieTooltip = function PieTooltip(_ref) {\n  var datum = _ref.datum;\n  return React.createElement(BasicTooltip, {\n    id: datum.id,\n    value: datum.formattedValue,\n    enableChip: true,\n    color: datum.color\n  });\n};\n\nvar _window$devicePixelRa;\n\nvar defaultProps = {\n  id: 'id',\n  value: 'value',\n  sortByValue: false,\n  innerRadius: 0,\n  padAngle: 0,\n  cornerRadius: 0,\n  layers: ['arcLinkLabels', 'arcs', 'arcLabels', 'legends'],\n  startAngle: 0,\n  endAngle: 360,\n  fit: true,\n  activeInnerRadiusOffset: 0,\n  activeOuterRadiusOffset: 0,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color',\n    modifiers: [['darker', 1]]\n  },\n  enableArcLabels: true,\n  arcLabel: 'formattedValue',\n  arcLabelsSkipAngle: 0,\n  arcLabelsRadiusOffset: 0.5,\n  arcLabelsTextColor: {\n    theme: 'labels.text.fill'\n  },\n  enableArcLinkLabels: true,\n  arcLinkLabel: 'id',\n  arcLinkLabelsSkipAngle: 0,\n  arcLinkLabelsOffset: 0,\n  arcLinkLabelsDiagonalLength: 16,\n  arcLinkLabelsStraightLength: 24,\n  arcLinkLabelsThickness: 1,\n  arcLinkLabelsTextOffset: 6,\n  arcLinkLabelsTextColor: {\n    theme: 'labels.text.fill'\n  },\n  arcLinkLabelsColor: {\n    theme: 'axis.ticks.line.stroke'\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  defs: [],\n  fill: [],\n  isInteractive: true,\n  animate: true,\n  motionConfig: 'gentle',\n  transitionMode: 'innerRadius',\n  tooltip: PieTooltip,\n  legends: [],\n  role: 'img',\n  pixelRatio: typeof window !== 'undefined' ? (_window$devicePixelRa = window.devicePixelRatio) !== null && _window$devicePixelRa !== void 0 ? _window$devicePixelRa : 1 : 1\n};\n\nvar useNormalizedData = function useNormalizedData(_ref) {\n  var data = _ref.data,\n      _ref$id = _ref.id,\n      id = _ref$id === void 0 ? defaultProps.id : _ref$id,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? defaultProps.value : _ref$value,\n      valueFormat = _ref.valueFormat,\n      _ref$colors = _ref.colors,\n      colors = _ref$colors === void 0 ? defaultProps.colors : _ref$colors;\n  var getId = usePropertyAccessor(id);\n  var getValue = usePropertyAccessor(value);\n  var formatValue = useValueFormatter(valueFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  return useMemo(function () {\n    return data.map(function (datum) {\n      var _datum$label;\n\n      var datumId = getId(datum);\n      var datumValue = getValue(datum);\n      var normalizedDatum = {\n        id: datumId,\n        label: (_datum$label = datum.label) !== null && _datum$label !== void 0 ? _datum$label : datumId,\n        value: datumValue,\n        formattedValue: formatValue(datumValue),\n        data: datum\n      };\n      return _objectSpread2(_objectSpread2({}, normalizedDatum), {}, {\n        color: getColor(normalizedDatum)\n      });\n    });\n  }, [data, getId, getValue, formatValue, getColor]);\n};\n\nvar usePieArcs = function usePieArcs(_ref2) {\n  var data = _ref2.data,\n      startAngle = _ref2.startAngle,\n      endAngle = _ref2.endAngle,\n      innerRadius = _ref2.innerRadius,\n      outerRadius = _ref2.outerRadius,\n      padAngle = _ref2.padAngle,\n      sortByValue = _ref2.sortByValue,\n      activeId = _ref2.activeId,\n      activeInnerRadiusOffset = _ref2.activeInnerRadiusOffset,\n      activeOuterRadiusOffset = _ref2.activeOuterRadiusOffset;\n  var pie$1 = useMemo(function () {\n    var innerPie = pie().value(function (d) {\n      return d.value;\n    }).startAngle(degreesToRadians(startAngle)).endAngle(degreesToRadians(endAngle)).padAngle(degreesToRadians(padAngle));\n\n    if (!sortByValue) {\n      innerPie.sortValues(null);\n    }\n\n    return innerPie;\n  }, [startAngle, endAngle, padAngle, sortByValue]);\n  return useMemo(function () {\n    return pie$1(data).map(function (arc) {\n      var angle = Math.abs(arc.endAngle - arc.startAngle);\n      return _objectSpread2(_objectSpread2({}, arc.data), {}, {\n        arc: {\n          index: arc.index,\n          startAngle: arc.startAngle,\n          endAngle: arc.endAngle,\n          innerRadius: activeId === arc.data.id ? innerRadius - activeInnerRadiusOffset : innerRadius,\n          outerRadius: activeId === arc.data.id ? outerRadius + activeOuterRadiusOffset : outerRadius,\n          thickness: outerRadius - innerRadius,\n          padAngle: arc.padAngle,\n          angle: angle,\n          angleDeg: radiansToDegrees(angle)\n        }\n      });\n    });\n  }, [pie$1, data, innerRadius, outerRadius, activeId, activeInnerRadiusOffset, activeInnerRadiusOffset]);\n};\n\nvar usePie = function usePie(_ref3) {\n  var data = _ref3.data,\n      radius = _ref3.radius,\n      innerRadius = _ref3.innerRadius,\n      _ref3$startAngle = _ref3.startAngle,\n      startAngle = _ref3$startAngle === void 0 ? defaultProps.startAngle : _ref3$startAngle,\n      _ref3$endAngle = _ref3.endAngle,\n      endAngle = _ref3$endAngle === void 0 ? defaultProps.endAngle : _ref3$endAngle,\n      _ref3$padAngle = _ref3.padAngle,\n      padAngle = _ref3$padAngle === void 0 ? defaultProps.padAngle : _ref3$padAngle,\n      _ref3$sortByValue = _ref3.sortByValue,\n      sortByValue = _ref3$sortByValue === void 0 ? defaultProps.sortByValue : _ref3$sortByValue,\n      _ref3$cornerRadius = _ref3.cornerRadius,\n      cornerRadius = _ref3$cornerRadius === void 0 ? defaultProps.cornerRadius : _ref3$cornerRadius,\n      _ref3$activeInnerRadi = _ref3.activeInnerRadiusOffset,\n      activeInnerRadiusOffset = _ref3$activeInnerRadi === void 0 ? defaultProps.activeInnerRadiusOffset : _ref3$activeInnerRadi,\n      _ref3$activeOuterRadi = _ref3.activeOuterRadiusOffset,\n      activeOuterRadiusOffset = _ref3$activeOuterRadi === void 0 ? defaultProps.activeOuterRadiusOffset : _ref3$activeOuterRadi;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeId = _useState2[0],\n      setActiveId = _useState2[1];\n\n  var dataWithArc = usePieArcs({\n    data: data,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    innerRadius: innerRadius,\n    outerRadius: radius,\n    padAngle: padAngle,\n    sortByValue: sortByValue,\n    activeId: activeId,\n    activeInnerRadiusOffset: activeInnerRadiusOffset,\n    activeOuterRadiusOffset: activeOuterRadiusOffset\n  });\n  var arcGenerator = useArcGenerator({\n    cornerRadius: cornerRadius,\n    padAngle: degreesToRadians(padAngle)\n  });\n  return {\n    dataWithArc: dataWithArc,\n    arcGenerator: arcGenerator,\n    setActiveId: setActiveId\n  };\n};\n\nvar usePieFromBox = function usePieFromBox(_ref4) {\n  var data = _ref4.data,\n      width = _ref4.width,\n      height = _ref4.height,\n      _ref4$innerRadius = _ref4.innerRadius,\n      innerRadiusRatio = _ref4$innerRadius === void 0 ? defaultProps.innerRadius : _ref4$innerRadius,\n      _ref4$startAngle = _ref4.startAngle,\n      startAngle = _ref4$startAngle === void 0 ? defaultProps.startAngle : _ref4$startAngle,\n      _ref4$endAngle = _ref4.endAngle,\n      endAngle = _ref4$endAngle === void 0 ? defaultProps.endAngle : _ref4$endAngle,\n      _ref4$padAngle = _ref4.padAngle,\n      padAngle = _ref4$padAngle === void 0 ? defaultProps.padAngle : _ref4$padAngle,\n      _ref4$sortByValue = _ref4.sortByValue,\n      sortByValue = _ref4$sortByValue === void 0 ? defaultProps.sortByValue : _ref4$sortByValue,\n      _ref4$cornerRadius = _ref4.cornerRadius,\n      cornerRadius = _ref4$cornerRadius === void 0 ? defaultProps.cornerRadius : _ref4$cornerRadius,\n      _ref4$fit = _ref4.fit,\n      fit = _ref4$fit === void 0 ? defaultProps.fit : _ref4$fit,\n      _ref4$activeInnerRadi = _ref4.activeInnerRadiusOffset,\n      activeInnerRadiusOffset = _ref4$activeInnerRadi === void 0 ? defaultProps.activeInnerRadiusOffset : _ref4$activeInnerRadi,\n      _ref4$activeOuterRadi = _ref4.activeOuterRadiusOffset,\n      activeOuterRadiusOffset = _ref4$activeOuterRadi === void 0 ? defaultProps.activeOuterRadiusOffset : _ref4$activeOuterRadi;\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeId = _useState4[0],\n      setActiveId = _useState4[1];\n\n  var computedProps = useMemo(function () {\n    var radius = Math.min(width, height) / 2;\n    var innerRadius = radius * Math.min(innerRadiusRatio, 1);\n    var centerX = width / 2;\n    var centerY = height / 2;\n    var boundingBox;\n\n    if (fit) {\n      var _computeArcBoundingBo = computeArcBoundingBox(centerX, centerY, radius, startAngle - 90, endAngle - 90),\n          points = _computeArcBoundingBo.points,\n          box = _objectWithoutProperties(_computeArcBoundingBo, [\"points\"]);\n\n      var ratio = Math.min(width / box.width, height / box.height);\n      var adjustedBox = {\n        width: box.width * ratio,\n        height: box.height * ratio\n      };\n      adjustedBox.x = (width - adjustedBox.width) / 2;\n      adjustedBox.y = (height - adjustedBox.height) / 2;\n      centerX = (centerX - box.x) / box.width * box.width * ratio + adjustedBox.x;\n      centerY = (centerY - box.y) / box.height * box.height * ratio + adjustedBox.y;\n      boundingBox = {\n        box: box,\n        ratio: ratio,\n        points: points\n      };\n      radius = radius * ratio;\n      innerRadius = innerRadius * ratio;\n    }\n\n    return {\n      centerX: centerX,\n      centerY: centerY,\n      radius: radius,\n      innerRadius: innerRadius,\n      debug: boundingBox\n    };\n  }, [width, height, innerRadiusRatio, startAngle, endAngle, fit, cornerRadius]);\n  var dataWithArc = usePieArcs({\n    data: data,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    innerRadius: computedProps.innerRadius,\n    outerRadius: computedProps.radius,\n    padAngle: padAngle,\n    sortByValue: sortByValue,\n    activeId: activeId,\n    activeInnerRadiusOffset: activeInnerRadiusOffset,\n    activeOuterRadiusOffset: activeOuterRadiusOffset\n  });\n  var arcGenerator = useArcGenerator({\n    cornerRadius: cornerRadius,\n    padAngle: degreesToRadians(padAngle)\n  });\n  return _objectSpread2({\n    dataWithArc: dataWithArc,\n    arcGenerator: arcGenerator,\n    setActiveId: setActiveId\n  }, computedProps);\n};\n\nvar usePieLayerContext = function usePieLayerContext(_ref5) {\n  var dataWithArc = _ref5.dataWithArc,\n      arcGenerator = _ref5.arcGenerator,\n      centerX = _ref5.centerX,\n      centerY = _ref5.centerY,\n      radius = _ref5.radius,\n      innerRadius = _ref5.innerRadius;\n  return useMemo(function () {\n    return {\n      dataWithArc: dataWithArc,\n      arcGenerator: arcGenerator,\n      centerX: centerX,\n      centerY: centerY,\n      radius: radius,\n      innerRadius: innerRadius\n    };\n  }, [dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius]);\n};\n\nvar Arcs = function Arcs(_ref) {\n  var center = _ref.center,\n      data = _ref.data,\n      arcGenerator = _ref.arcGenerator,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      isInteractive = _ref.isInteractive,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      setActiveId = _ref.setActiveId,\n      tooltip = _ref.tooltip,\n      transitionMode = _ref.transitionMode;\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleClick = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (datum, event) {\n      onClick === null || onClick === void 0 ? void 0 : onClick(datum, event);\n    };\n  }, [isInteractive, onClick]);\n  var handleMouseEnter = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (datum, event) {\n      showTooltipFromEvent(createElement(tooltip, {\n        datum: datum\n      }), event);\n      setActiveId(datum.id);\n      onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(datum, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, setActiveId, onMouseEnter]);\n  var handleMouseMove = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (datum, event) {\n      showTooltipFromEvent(createElement(tooltip, {\n        datum: datum\n      }), event);\n      onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(datum, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, onMouseMove]);\n  var handleMouseLeave = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (datum, event) {\n      hideTooltip();\n      setActiveId(null);\n      onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(datum, event);\n    };\n  }, [isInteractive, hideTooltip, setActiveId, onMouseLeave]);\n  return React.createElement(ArcsLayer, {\n    center: center,\n    data: data,\n    arcGenerator: arcGenerator,\n    borderWidth: borderWidth,\n    borderColor: borderColor,\n    transitionMode: transitionMode,\n    onClick: handleClick,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave\n  });\n};\n\nvar InnerPie = function InnerPie(_ref) {\n  var data = _ref.data,\n      _ref$id = _ref.id,\n      id = _ref$id === void 0 ? defaultProps.id : _ref$id,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? defaultProps.value : _ref$value,\n      valueFormat = _ref.valueFormat,\n      _ref$sortByValue = _ref.sortByValue,\n      sortByValue = _ref$sortByValue === void 0 ? defaultProps.sortByValue : _ref$sortByValue,\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === void 0 ? defaultProps.layers : _ref$layers,\n      _ref$startAngle = _ref.startAngle,\n      startAngle = _ref$startAngle === void 0 ? defaultProps.startAngle : _ref$startAngle,\n      _ref$endAngle = _ref.endAngle,\n      endAngle = _ref$endAngle === void 0 ? defaultProps.endAngle : _ref$endAngle,\n      _ref$padAngle = _ref.padAngle,\n      padAngle = _ref$padAngle === void 0 ? defaultProps.padAngle : _ref$padAngle,\n      _ref$fit = _ref.fit,\n      fit = _ref$fit === void 0 ? defaultProps.fit : _ref$fit,\n      _ref$innerRadius = _ref.innerRadius,\n      innerRadiusRatio = _ref$innerRadius === void 0 ? defaultProps.innerRadius : _ref$innerRadius,\n      _ref$cornerRadius = _ref.cornerRadius,\n      cornerRadius = _ref$cornerRadius === void 0 ? defaultProps.cornerRadius : _ref$cornerRadius,\n      _ref$activeInnerRadiu = _ref.activeInnerRadiusOffset,\n      activeInnerRadiusOffset = _ref$activeInnerRadiu === void 0 ? defaultProps.activeInnerRadiusOffset : _ref$activeInnerRadiu,\n      _ref$activeOuterRadiu = _ref.activeOuterRadiusOffset,\n      activeOuterRadiusOffset = _ref$activeOuterRadiu === void 0 ? defaultProps.activeOuterRadiusOffset : _ref$activeOuterRadiu,\n      width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      _ref$colors = _ref.colors,\n      colors = _ref$colors === void 0 ? defaultProps.colors : _ref$colors,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? defaultProps.borderWidth : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? defaultProps.borderColor : _ref$borderColor,\n      _ref$enableArcLabels = _ref.enableArcLabels,\n      enableArcLabels = _ref$enableArcLabels === void 0 ? defaultProps.enableArcLabels : _ref$enableArcLabels,\n      _ref$arcLabel = _ref.arcLabel,\n      arcLabel = _ref$arcLabel === void 0 ? defaultProps.arcLabel : _ref$arcLabel,\n      _ref$arcLabelsSkipAng = _ref.arcLabelsSkipAngle,\n      arcLabelsSkipAngle = _ref$arcLabelsSkipAng === void 0 ? defaultProps.arcLabelsSkipAngle : _ref$arcLabelsSkipAng,\n      _ref$arcLabelsTextCol = _ref.arcLabelsTextColor,\n      arcLabelsTextColor = _ref$arcLabelsTextCol === void 0 ? defaultProps.arcLabelsTextColor : _ref$arcLabelsTextCol,\n      _ref$arcLabelsRadiusO = _ref.arcLabelsRadiusOffset,\n      arcLabelsRadiusOffset = _ref$arcLabelsRadiusO === void 0 ? defaultProps.arcLabelsRadiusOffset : _ref$arcLabelsRadiusO,\n      arcLabelsComponent = _ref.arcLabelsComponent,\n      _ref$enableArcLinkLab = _ref.enableArcLinkLabels,\n      enableArcLinkLabels = _ref$enableArcLinkLab === void 0 ? defaultProps.enableArcLinkLabels : _ref$enableArcLinkLab,\n      _ref$arcLinkLabel = _ref.arcLinkLabel,\n      arcLinkLabel = _ref$arcLinkLabel === void 0 ? defaultProps.arcLinkLabel : _ref$arcLinkLabel,\n      _ref$arcLinkLabelsSki = _ref.arcLinkLabelsSkipAngle,\n      arcLinkLabelsSkipAngle = _ref$arcLinkLabelsSki === void 0 ? defaultProps.arcLinkLabelsSkipAngle : _ref$arcLinkLabelsSki,\n      _ref$arcLinkLabelsOff = _ref.arcLinkLabelsOffset,\n      arcLinkLabelsOffset = _ref$arcLinkLabelsOff === void 0 ? defaultProps.arcLinkLabelsOffset : _ref$arcLinkLabelsOff,\n      _ref$arcLinkLabelsDia = _ref.arcLinkLabelsDiagonalLength,\n      arcLinkLabelsDiagonalLength = _ref$arcLinkLabelsDia === void 0 ? defaultProps.arcLinkLabelsDiagonalLength : _ref$arcLinkLabelsDia,\n      _ref$arcLinkLabelsStr = _ref.arcLinkLabelsStraightLength,\n      arcLinkLabelsStraightLength = _ref$arcLinkLabelsStr === void 0 ? defaultProps.arcLinkLabelsStraightLength : _ref$arcLinkLabelsStr,\n      _ref$arcLinkLabelsThi = _ref.arcLinkLabelsThickness,\n      arcLinkLabelsThickness = _ref$arcLinkLabelsThi === void 0 ? defaultProps.arcLinkLabelsThickness : _ref$arcLinkLabelsThi,\n      _ref$arcLinkLabelsTex = _ref.arcLinkLabelsTextOffset,\n      arcLinkLabelsTextOffset = _ref$arcLinkLabelsTex === void 0 ? defaultProps.arcLinkLabelsTextOffset : _ref$arcLinkLabelsTex,\n      _ref$arcLinkLabelsTex2 = _ref.arcLinkLabelsTextColor,\n      arcLinkLabelsTextColor = _ref$arcLinkLabelsTex2 === void 0 ? defaultProps.arcLinkLabelsTextColor : _ref$arcLinkLabelsTex2,\n      _ref$arcLinkLabelsCol = _ref.arcLinkLabelsColor,\n      arcLinkLabelsColor = _ref$arcLinkLabelsCol === void 0 ? defaultProps.arcLinkLabelsColor : _ref$arcLinkLabelsCol,\n      arcLinkLabelComponent = _ref.arcLinkLabelComponent,\n      _ref$defs = _ref.defs,\n      defs = _ref$defs === void 0 ? defaultProps.defs : _ref$defs,\n      _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? defaultProps.fill : _ref$fill,\n      _ref$isInteractive = _ref.isInteractive,\n      isInteractive = _ref$isInteractive === void 0 ? defaultProps.isInteractive : _ref$isInteractive,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      _ref$tooltip = _ref.tooltip,\n      tooltip = _ref$tooltip === void 0 ? defaultProps.tooltip : _ref$tooltip,\n      _ref$transitionMode = _ref.transitionMode,\n      transitionMode = _ref$transitionMode === void 0 ? defaultProps.transitionMode : _ref$transitionMode,\n      _ref$legends = _ref.legends,\n      legends = _ref$legends === void 0 ? defaultProps.legends : _ref$legends,\n      _ref$role = _ref.role,\n      role = _ref$role === void 0 ? defaultProps.role : _ref$role;\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight,\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight;\n\n  var normalizedData = useNormalizedData({\n    data: data,\n    id: id,\n    value: value,\n    valueFormat: valueFormat,\n    colors: colors\n  });\n\n  var _usePieFromBox = usePieFromBox({\n    data: normalizedData,\n    width: innerWidth,\n    height: innerHeight,\n    fit: fit,\n    innerRadius: innerRadiusRatio,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    padAngle: padAngle,\n    sortByValue: sortByValue,\n    cornerRadius: cornerRadius,\n    activeInnerRadiusOffset: activeInnerRadiusOffset,\n    activeOuterRadiusOffset: activeOuterRadiusOffset\n  }),\n      dataWithArc = _usePieFromBox.dataWithArc,\n      arcGenerator = _usePieFromBox.arcGenerator,\n      centerX = _usePieFromBox.centerX,\n      centerY = _usePieFromBox.centerY,\n      radius = _usePieFromBox.radius,\n      innerRadius = _usePieFromBox.innerRadius,\n      setActiveId = _usePieFromBox.setActiveId;\n\n  var boundDefs = bindDefs(defs, dataWithArc, fill);\n  var layerById = {\n    arcLinkLabels: null,\n    arcs: null,\n    arcLabels: null,\n    legends: null\n  };\n\n  if (enableArcLinkLabels && layers.includes('arcLinkLabels')) {\n    layerById.arcLinkLabels = React.createElement(ArcLinkLabelsLayer, {\n      key: \"arcLinkLabels\",\n      center: [centerX, centerY],\n      data: dataWithArc,\n      label: arcLinkLabel,\n      skipAngle: arcLinkLabelsSkipAngle,\n      offset: arcLinkLabelsOffset,\n      diagonalLength: arcLinkLabelsDiagonalLength,\n      straightLength: arcLinkLabelsStraightLength,\n      strokeWidth: arcLinkLabelsThickness,\n      textOffset: arcLinkLabelsTextOffset,\n      textColor: arcLinkLabelsTextColor,\n      linkColor: arcLinkLabelsColor,\n      component: arcLinkLabelComponent\n    });\n  }\n\n  if (layers.includes('arcs')) {\n    layerById.arcs = React.createElement(Arcs, {\n      key: \"arcs\",\n      center: [centerX, centerY],\n      data: dataWithArc,\n      arcGenerator: arcGenerator,\n      borderWidth: borderWidth,\n      borderColor: borderColor,\n      isInteractive: isInteractive,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      setActiveId: setActiveId,\n      tooltip: tooltip,\n      transitionMode: transitionMode\n    });\n  }\n\n  if (enableArcLabels && layers.includes('arcLabels')) {\n    layerById.arcLabels = React.createElement(ArcLabelsLayer, {\n      key: \"arcLabels\",\n      center: [centerX, centerY],\n      data: dataWithArc,\n      label: arcLabel,\n      radiusOffset: arcLabelsRadiusOffset,\n      skipAngle: arcLabelsSkipAngle,\n      textColor: arcLabelsTextColor,\n      transitionMode: transitionMode,\n      component: arcLabelsComponent\n    });\n  }\n\n  if (legends.length > 0 && layers.includes('legends')) {\n    layerById.legends = React.createElement(PieLegends, {\n      key: \"legends\",\n      width: innerWidth,\n      height: innerHeight,\n      dataWithArc: dataWithArc,\n      legends: legends\n    });\n  }\n\n  var layerContext = usePieLayerContext({\n    dataWithArc: dataWithArc,\n    arcGenerator: arcGenerator,\n    centerX: centerX,\n    centerY: centerY,\n    radius: radius,\n    innerRadius: innerRadius\n  });\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    defs: boundDefs,\n    role: role\n  }, layers.map(function (layer, i) {\n    if (layerById[layer] !== undefined) {\n      return layerById[layer];\n    }\n\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, createElement(layer, layerContext));\n    }\n\n    return null;\n  }));\n};\n\nvar Pie = function Pie(_ref2) {\n  var _ref2$isInteractive = _ref2.isInteractive,\n      isInteractive = _ref2$isInteractive === void 0 ? defaultProps.isInteractive : _ref2$isInteractive,\n      _ref2$animate = _ref2.animate,\n      animate = _ref2$animate === void 0 ? defaultProps.animate : _ref2$animate,\n      _ref2$motionConfig = _ref2.motionConfig,\n      motionConfig = _ref2$motionConfig === void 0 ? defaultProps.motionConfig : _ref2$motionConfig,\n      theme = _ref2.theme,\n      otherProps = _objectWithoutProperties(_ref2, [\"isInteractive\", \"animate\", \"motionConfig\", \"theme\"]);\n\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    animate: animate,\n    motionConfig: motionConfig,\n    theme: theme\n  }, React.createElement(InnerPie, Object.assign({\n    isInteractive: isInteractive\n  }, otherProps)));\n};\n\nvar ResponsivePie = function ResponsivePie(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Pie, Object.assign({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nvar InnerPieCanvas = function InnerPieCanvas(_ref) {\n  var data = _ref.data,\n      _ref$id = _ref.id,\n      id = _ref$id === void 0 ? defaultProps.id : _ref$id,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? defaultProps.value : _ref$value,\n      valueFormat = _ref.valueFormat,\n      _ref$sortByValue = _ref.sortByValue,\n      sortByValue = _ref$sortByValue === void 0 ? defaultProps.sortByValue : _ref$sortByValue,\n      _ref$startAngle = _ref.startAngle,\n      startAngle = _ref$startAngle === void 0 ? defaultProps.startAngle : _ref$startAngle,\n      _ref$endAngle = _ref.endAngle,\n      endAngle = _ref$endAngle === void 0 ? defaultProps.endAngle : _ref$endAngle,\n      _ref$padAngle = _ref.padAngle,\n      padAngle = _ref$padAngle === void 0 ? defaultProps.padAngle : _ref$padAngle,\n      _ref$fit = _ref.fit,\n      fit = _ref$fit === void 0 ? defaultProps.fit : _ref$fit,\n      _ref$innerRadius = _ref.innerRadius,\n      innerRadiusRatio = _ref$innerRadius === void 0 ? defaultProps.innerRadius : _ref$innerRadius,\n      _ref$cornerRadius = _ref.cornerRadius,\n      cornerRadius = _ref$cornerRadius === void 0 ? defaultProps.cornerRadius : _ref$cornerRadius,\n      _ref$activeInnerRadiu = _ref.activeInnerRadiusOffset,\n      activeInnerRadiusOffset = _ref$activeInnerRadiu === void 0 ? defaultProps.activeInnerRadiusOffset : _ref$activeInnerRadiu,\n      _ref$activeOuterRadiu = _ref.activeOuterRadiusOffset,\n      activeOuterRadiusOffset = _ref$activeOuterRadiu === void 0 ? defaultProps.activeOuterRadiusOffset : _ref$activeOuterRadiu,\n      width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      _ref$pixelRatio = _ref.pixelRatio,\n      pixelRatio = _ref$pixelRatio === void 0 ? 1 : _ref$pixelRatio,\n      _ref$colors = _ref.colors,\n      colors = _ref$colors === void 0 ? defaultProps.colors : _ref$colors,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? defaultProps.borderWidth : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? defaultProps.borderColor : _ref$borderColor,\n      _ref$enableArcLabels = _ref.enableArcLabels,\n      enableArcLabels = _ref$enableArcLabels === void 0 ? defaultProps.enableArcLabels : _ref$enableArcLabels,\n      _ref$arcLabel = _ref.arcLabel,\n      arcLabel = _ref$arcLabel === void 0 ? defaultProps.arcLabel : _ref$arcLabel,\n      _ref$arcLabelsSkipAng = _ref.arcLabelsSkipAngle,\n      arcLabelsSkipAngle = _ref$arcLabelsSkipAng === void 0 ? defaultProps.arcLabelsSkipAngle : _ref$arcLabelsSkipAng,\n      _ref$arcLabelsTextCol = _ref.arcLabelsTextColor,\n      arcLabelsTextColor = _ref$arcLabelsTextCol === void 0 ? defaultProps.arcLabelsTextColor : _ref$arcLabelsTextCol,\n      _ref$arcLabelsRadiusO = _ref.arcLabelsRadiusOffset,\n      arcLabelsRadiusOffset = _ref$arcLabelsRadiusO === void 0 ? defaultProps.arcLabelsRadiusOffset : _ref$arcLabelsRadiusO,\n      _ref$enableArcLinkLab = _ref.enableArcLinkLabels,\n      enableArcLinkLabels = _ref$enableArcLinkLab === void 0 ? defaultProps.enableArcLinkLabels : _ref$enableArcLinkLab,\n      _ref$arcLinkLabel = _ref.arcLinkLabel,\n      arcLinkLabel = _ref$arcLinkLabel === void 0 ? defaultProps.arcLinkLabel : _ref$arcLinkLabel,\n      _ref$arcLinkLabelsSki = _ref.arcLinkLabelsSkipAngle,\n      arcLinkLabelsSkipAngle = _ref$arcLinkLabelsSki === void 0 ? defaultProps.arcLinkLabelsSkipAngle : _ref$arcLinkLabelsSki,\n      _ref$arcLinkLabelsOff = _ref.arcLinkLabelsOffset,\n      arcLinkLabelsOffset = _ref$arcLinkLabelsOff === void 0 ? defaultProps.arcLinkLabelsOffset : _ref$arcLinkLabelsOff,\n      _ref$arcLinkLabelsDia = _ref.arcLinkLabelsDiagonalLength,\n      arcLinkLabelsDiagonalLength = _ref$arcLinkLabelsDia === void 0 ? defaultProps.arcLinkLabelsDiagonalLength : _ref$arcLinkLabelsDia,\n      _ref$arcLinkLabelsStr = _ref.arcLinkLabelsStraightLength,\n      arcLinkLabelsStraightLength = _ref$arcLinkLabelsStr === void 0 ? defaultProps.arcLinkLabelsStraightLength : _ref$arcLinkLabelsStr,\n      _ref$arcLinkLabelsThi = _ref.arcLinkLabelsThickness,\n      arcLinkLabelsThickness = _ref$arcLinkLabelsThi === void 0 ? defaultProps.arcLinkLabelsThickness : _ref$arcLinkLabelsThi,\n      _ref$arcLinkLabelsTex = _ref.arcLinkLabelsTextOffset,\n      arcLinkLabelsTextOffset = _ref$arcLinkLabelsTex === void 0 ? defaultProps.arcLinkLabelsTextOffset : _ref$arcLinkLabelsTex,\n      _ref$arcLinkLabelsTex2 = _ref.arcLinkLabelsTextColor,\n      arcLinkLabelsTextColor = _ref$arcLinkLabelsTex2 === void 0 ? defaultProps.arcLinkLabelsTextColor : _ref$arcLinkLabelsTex2,\n      _ref$arcLinkLabelsCol = _ref.arcLinkLabelsColor,\n      arcLinkLabelsColor = _ref$arcLinkLabelsCol === void 0 ? defaultProps.arcLinkLabelsColor : _ref$arcLinkLabelsCol,\n      _ref$isInteractive = _ref.isInteractive,\n      isInteractive = _ref$isInteractive === void 0 ? defaultProps.isInteractive : _ref$isInteractive,\n      onClick = _ref.onClick,\n      onMouseMove = _ref.onMouseMove,\n      _ref$tooltip = _ref.tooltip,\n      tooltip = _ref$tooltip === void 0 ? defaultProps.tooltip : _ref$tooltip,\n      _ref$legends = _ref.legends,\n      legends = _ref$legends === void 0 ? defaultProps.legends : _ref$legends;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var normalizedData = useNormalizedData({\n    data: data,\n    id: id,\n    value: value,\n    valueFormat: valueFormat,\n    colors: colors\n  });\n\n  var _usePieFromBox = usePieFromBox({\n    data: normalizedData,\n    width: innerWidth,\n    height: innerHeight,\n    fit: fit,\n    innerRadius: innerRadiusRatio,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    padAngle: padAngle,\n    sortByValue: sortByValue,\n    cornerRadius: cornerRadius,\n    activeInnerRadiusOffset: activeInnerRadiusOffset,\n    activeOuterRadiusOffset: activeOuterRadiusOffset\n  }),\n      dataWithArc = _usePieFromBox.dataWithArc,\n      arcGenerator = _usePieFromBox.arcGenerator,\n      centerX = _usePieFromBox.centerX,\n      centerY = _usePieFromBox.centerY,\n      radius = _usePieFromBox.radius,\n      innerRadius = _usePieFromBox.innerRadius,\n      setActiveId = _usePieFromBox.setActiveId;\n\n  var getBorderColor = useInheritedColor(borderColor, theme);\n  var arcLabels = useArcLabels({\n    data: dataWithArc,\n    label: arcLabel,\n    skipAngle: arcLabelsSkipAngle,\n    offset: arcLabelsRadiusOffset,\n    textColor: arcLabelsTextColor\n  });\n  var arcLinkLabels = useArcLinkLabels({\n    data: dataWithArc,\n    skipAngle: arcLinkLabelsSkipAngle,\n    offset: arcLinkLabelsOffset,\n    diagonalLength: arcLinkLabelsDiagonalLength,\n    straightLength: arcLinkLabelsStraightLength,\n    label: arcLinkLabel,\n    linkColor: arcLinkLabelsColor,\n    textOffset: arcLinkLabelsTextOffset,\n    textColor: arcLinkLabelsTextColor\n  });\n  useEffect(function () {\n    if (!canvasEl.current) return;\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.save();\n    ctx.translate(margin.left, margin.top);\n    arcGenerator.context(ctx);\n    ctx.save();\n    ctx.translate(centerX, centerY);\n    dataWithArc.forEach(function (arc) {\n      ctx.beginPath();\n      ctx.fillStyle = arc.color;\n      ctx.strokeStyle = getBorderColor(arc);\n      ctx.lineWidth = borderWidth;\n      arcGenerator(arc.arc);\n      ctx.fill();\n\n      if (borderWidth > 0) {\n        ctx.stroke();\n      }\n    });\n\n    if (enableArcLinkLabels === true) {\n      drawCanvasArcLinkLabels(ctx, arcLinkLabels, theme, arcLinkLabelsThickness);\n    }\n\n    if (enableArcLabels === true) {\n      drawCanvasArcLabels(ctx, arcLabels, theme);\n    }\n\n    ctx.restore();\n    legends.forEach(function (legend) {\n      renderLegendToCanvas(ctx, _objectSpread2(_objectSpread2({}, legend), {}, {\n        data: dataWithArc,\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        theme: theme\n      }));\n    });\n  }, [canvasEl, innerWidth, innerHeight, outerWidth, outerHeight, margin.top, margin.left, pixelRatio, centerX, centerY, arcGenerator, dataWithArc, getBorderColor, enableArcLabels, arcLabels, enableArcLinkLabels, arcLinkLabels, arcLinkLabelsThickness, legends, theme]);\n  var arcs = useMemo(function () {\n    return dataWithArc.map(function (datum) {\n      return _objectSpread2({\n        id: datum.id\n      }, datum.arc);\n    });\n  }, [dataWithArc]);\n\n  var getArcFromMouse = function getArcFromMouse(event) {\n    if (!canvasEl.current) return null;\n\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n\n    var hoveredArc = findArcUnderCursor(margin.left + centerX, margin.top + centerY, radius, innerRadius, arcs, x, y);\n    if (!hoveredArc) return null;\n    return dataWithArc.find(function (datum) {\n      return datum.id === hoveredArc.id;\n    });\n  };\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseHover = function handleMouseHover(event) {\n    var datum = getArcFromMouse(event);\n\n    if (datum) {\n      onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(datum, event);\n      setActiveId(datum.id);\n      showTooltipFromEvent(createElement(tooltip, {\n        datum: datum\n      }), event);\n    } else {\n      setActiveId(null);\n      hideTooltip();\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    hideTooltip();\n  };\n\n  var handleClick = function handleClick(event) {\n    if (!onClick) return;\n    var arc = getArcFromMouse(event);\n\n    if (arc) {\n      onClick(arc, event);\n    }\n  };\n\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\n\nvar PieCanvas = function PieCanvas(_ref2) {\n  var _ref2$isInteractive = _ref2.isInteractive,\n      isInteractive = _ref2$isInteractive === void 0 ? defaultProps.isInteractive : _ref2$isInteractive,\n      theme = _ref2.theme,\n      otherProps = _objectWithoutProperties(_ref2, [\"isInteractive\", \"theme\"]);\n\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme\n  }, React.createElement(InnerPieCanvas, Object.assign({\n    isInteractive: isInteractive\n  }, otherProps)));\n};\n\nvar ResponsivePieCanvas = function ResponsivePieCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(PieCanvas, Object.assign({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Pie, PieCanvas, ResponsivePie, ResponsivePieCanvas, defaultProps, useNormalizedData, usePie, usePieArcs, usePieFromBox, usePieLayerContext };","map":{"version":3,"mappings":"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","names":["_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","PieLegends","width","height","legends","dataWithArc","React","map","legend","BoxLegendSvg","containerWidth","containerHeight","data","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","Symbol","iterator","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","slice","constructor","name","from","test","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","arguments","forEach","getOwnPropertyDescriptors","defineProperties","PieTooltip","datum","BasicTooltip","id","formattedValue","enableChip","color","defaultProps","sortByValue","innerRadius","padAngle","cornerRadius","layers","startAngle","endAngle","fit","activeInnerRadiusOffset","activeOuterRadiusOffset","borderWidth","borderColor","modifiers","enableArcLabels","arcLabel","arcLabelsSkipAngle","arcLabelsRadiusOffset","arcLabelsTextColor","theme","enableArcLinkLabels","arcLinkLabel","arcLinkLabelsSkipAngle","arcLinkLabelsOffset","arcLinkLabelsDiagonalLength","arcLinkLabelsStraightLength","arcLinkLabelsThickness","arcLinkLabelsTextOffset","arcLinkLabelsTextColor","arcLinkLabelsColor","colors","scheme","defs","fill","isInteractive","animate","motionConfig","transitionMode","tooltip","role","pixelRatio","window","devicePixelRatio","useNormalizedData","valueFormat","getId","usePropertyAccessor","getValue","formatValue","useValueFormatter","getColor","useOrdinalColorScale","useMemo","datumId","datumValue","normalizedDatum","label","usePieArcs","outerRadius","activeId","pie","innerPie","d3Pie","d","degreesToRadians","sortValues","arc","angle","Math","abs","index","thickness","angleDeg","radiansToDegrees","usePie","radius","useState","setActiveId","arcGenerator","useArcGenerator","usePieFromBox","innerRadiusRatio","computedProps","min","centerX","centerY","boundingBox","computeArcBoundingBox","points","box","ratio","adjustedBox","x","y","debug","usePieLayerContext","Arcs","center","onClick","onMouseEnter","onMouseMove","onMouseLeave","useTooltip","showTooltipFromEvent","hideTooltip","handleClick","event","handleMouseEnter","createElement","handleMouseMove","handleMouseLeave","ArcsLayer","InnerPie","partialMargin","margin","arcLabelsComponent","arcLinkLabelComponent","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","normalizedData","boundDefs","bindDefs","layerById","arcLinkLabels","arcs","arcLabels","includes","ArcLinkLabelsLayer","skipAngle","offset","diagonalLength","straightLength","strokeWidth","textOffset","textColor","linkColor","component","ArcLabelsLayer","radiusOffset","layerContext","SvgWrapper","layer","Fragment","Pie","otherProps","Container","ResponsivePie","props","ResponsiveWrapper","InnerPieCanvas","canvasEl","useRef","useTheme","getBorderColor","useInheritedColor","useArcLabels","useArcLinkLabels","useEffect","current","ctx","getContext","scale","fillStyle","background","fillRect","save","translate","left","top","context","beginPath","strokeStyle","lineWidth","stroke","drawCanvasArcLinkLabels","drawCanvasArcLabels","restore","renderLegendToCanvas","getArcFromMouse","getRelativeCursor","hoveredArc","findArcUnderCursor","find","handleMouseHover","ref","style","cursor","PieCanvas","ResponsivePieCanvas"],"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../src/PieLegends.tsx","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/PieTooltip.tsx","../src/props.ts","../src/hooks.ts","../src/Arcs.tsx","../src/Pie.tsx","../src/ResponsivePie.tsx","../src/PieCanvas.tsx","../src/ResponsivePieCanvas.tsx"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import React from 'react'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { CompletePieSvgProps, ComputedDatum } from './types'\n\ninterface PieLegendsProps<RawDatum> {\n    width: number\n    height: number\n    legends: CompletePieSvgProps<RawDatum>['legends']\n    dataWithArc: ComputedDatum<RawDatum>[]\n}\n\nconst PieLegends = <RawDatum,>({\n    width,\n    height,\n    legends,\n    dataWithArc,\n}: PieLegendsProps<RawDatum>) => {\n    return (\n        <>\n            {legends.map((legend, i) => (\n                <BoxLegendSvg\n                    key={i}\n                    {...legend}\n                    containerWidth={width}\n                    containerHeight={height}\n                    data={dataWithArc}\n                />\n            ))}\n        </>\n    )\n}\n\nexport default PieLegends\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react'\nimport { BasicTooltip } from '@nivo/tooltip'\nimport { ComputedDatum } from './types'\n\nexport const PieTooltip = <RawDatum,>({ datum }: { datum: ComputedDatum<RawDatum> }) => (\n    <BasicTooltip\n        id={datum.id}\n        value={datum.formattedValue}\n        enableChip={true}\n        color={datum.color}\n    />\n)\n\nexport default PieTooltip\n","import { OrdinalColorScaleConfig } from '@nivo/colors'\nimport { ArcTransitionMode } from '@nivo/arcs'\nimport { PieTooltip } from './PieTooltip'\n\nexport const defaultProps = {\n    id: 'id',\n    value: 'value',\n    sortByValue: false,\n    innerRadius: 0,\n    padAngle: 0,\n    cornerRadius: 0,\n\n    layers: ['arcLinkLabels', 'arcs', 'arcLabels', 'legends'],\n\n    // layout\n    startAngle: 0,\n    endAngle: 360,\n    fit: true,\n    activeInnerRadiusOffset: 0,\n    activeOuterRadiusOffset: 0,\n\n    // border\n    borderWidth: 0,\n    borderColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    // arc labels\n    enableArcLabels: true,\n    arcLabel: 'formattedValue',\n    arcLabelsSkipAngle: 0,\n    arcLabelsRadiusOffset: 0.5,\n    arcLabelsTextColor: { theme: 'labels.text.fill' },\n\n    // arc link labels\n    enableArcLinkLabels: true,\n    arcLinkLabel: 'id',\n    arcLinkLabelsSkipAngle: 0,\n    arcLinkLabelsOffset: 0,\n    arcLinkLabelsDiagonalLength: 16,\n    arcLinkLabelsStraightLength: 24,\n    arcLinkLabelsThickness: 1,\n    arcLinkLabelsTextOffset: 6,\n    arcLinkLabelsTextColor: { theme: 'labels.text.fill' },\n    arcLinkLabelsColor: { theme: 'axis.ticks.line.stroke' },\n\n    colors: ({ scheme: 'nivo' } as unknown) as OrdinalColorScaleConfig,\n    defs: [],\n    fill: [],\n\n    isInteractive: true,\n\n    animate: true,\n    motionConfig: 'gentle',\n    transitionMode: 'innerRadius' as ArcTransitionMode,\n\n    tooltip: PieTooltip,\n\n    legends: [],\n\n    role: 'img',\n\n    pixelRatio: typeof window !== 'undefined' ? window.devicePixelRatio ?? 1 : 1,\n}\n","import { useMemo, useState } from 'react'\nimport { pie as d3Pie } from 'd3-shape'\nimport { ArcGenerator, useArcGenerator, computeArcBoundingBox } from '@nivo/arcs'\nimport {\n    degreesToRadians,\n    radiansToDegrees,\n    useValueFormatter,\n    usePropertyAccessor,\n} from '@nivo/core'\nimport { OrdinalColorScaleConfig, useOrdinalColorScale } from '@nivo/colors'\nimport { defaultProps } from './props'\nimport { CompletePieSvgProps, ComputedDatum, DatumId, PieArc, PieCustomLayerProps } from './types'\n\ninterface MayHaveLabel {\n    label?: string | number\n}\n\n/**\n * Format data so that we get a consistent data structure.\n * It will also add the `formattedValue` and `color` property.\n */\nexport const useNormalizedData = <RawDatum extends MayHaveLabel>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    colors = defaultProps.colors as OrdinalColorScaleConfig<\n        Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'>\n    >,\n}: Pick<CompletePieSvgProps<RawDatum>, 'id' | 'value' | 'valueFormat' | 'colors'> & {\n    data: RawDatum[]\n}): Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[] => {\n    const getId = usePropertyAccessor<RawDatum, DatumId>(id)\n    const getValue = usePropertyAccessor<RawDatum, number>(value)\n    const formatValue = useValueFormatter<number>(valueFormat)\n\n    const getColor = useOrdinalColorScale<Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'>>(\n        colors,\n        'id'\n    )\n\n    return useMemo(\n        () =>\n            data.map(datum => {\n                const datumId = getId(datum)\n                const datumValue = getValue(datum)\n\n                const normalizedDatum: Omit<ComputedDatum<RawDatum>, 'arc' | 'color' | 'fill'> = {\n                    id: datumId,\n                    label: datum.label ?? datumId,\n                    value: datumValue,\n                    formattedValue: formatValue(datumValue),\n                    data: datum,\n                }\n\n                return {\n                    ...normalizedDatum,\n                    color: getColor(normalizedDatum),\n                }\n            }),\n        [data, getId, getValue, formatValue, getColor]\n    )\n}\n\n/**\n * Compute arcs, which don't depend yet on radius.\n */\nexport const usePieArcs = <RawDatum>({\n    data,\n    startAngle,\n    endAngle,\n    innerRadius,\n    outerRadius,\n    padAngle,\n    sortByValue,\n    activeId,\n    activeInnerRadiusOffset,\n    activeOuterRadiusOffset,\n}: {\n    data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>[]\n    // in degrees\n    startAngle: number\n    // in degrees\n    endAngle: number\n    // in pixels\n    innerRadius: number\n    // in pixels\n    outerRadius: number\n    padAngle: number\n    sortByValue: boolean\n    activeId: null | DatumId\n    activeInnerRadiusOffset: number\n    activeOuterRadiusOffset: number\n}): Omit<ComputedDatum<RawDatum>, 'fill'>[] => {\n    const pie = useMemo(() => {\n        const innerPie = d3Pie<Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>>()\n            .value(d => d.value)\n            .startAngle(degreesToRadians(startAngle))\n            .endAngle(degreesToRadians(endAngle))\n            .padAngle(degreesToRadians(padAngle))\n\n        if (!sortByValue) {\n            innerPie.sortValues(null)\n        }\n\n        return innerPie\n    }, [startAngle, endAngle, padAngle, sortByValue])\n\n    return useMemo(\n        () =>\n            pie(data).map(\n                (\n                    arc: Omit<\n                        PieArc,\n                        'angle' | 'angleDeg' | 'innerRadius' | 'outerRadius' | 'thickness'\n                    > & {\n                        data: Omit<ComputedDatum<RawDatum>, 'arc' | 'fill'>\n                    }\n                ) => {\n                    const angle = Math.abs(arc.endAngle - arc.startAngle)\n\n                    return {\n                        ...arc.data,\n                        arc: {\n                            index: arc.index,\n                            startAngle: arc.startAngle,\n                            endAngle: arc.endAngle,\n                            innerRadius:\n                                activeId === arc.data.id\n                                    ? innerRadius - activeInnerRadiusOffset\n                                    : innerRadius,\n                            outerRadius:\n                                activeId === arc.data.id\n                                    ? outerRadius + activeOuterRadiusOffset\n                                    : outerRadius,\n                            thickness: outerRadius - innerRadius,\n                            padAngle: arc.padAngle,\n                            angle,\n                            angleDeg: radiansToDegrees(angle),\n                        },\n                    }\n                }\n            ),\n\n        [\n            pie,\n            data,\n            innerRadius,\n            outerRadius,\n            activeId,\n            activeInnerRadiusOffset,\n            activeInnerRadiusOffset,\n        ]\n    )\n}\n\n/**\n * Compute pie layout using explicit radius/innerRadius,\n * expressed in pixels.\n */\nexport const usePie = <RawDatum>({\n    data,\n    radius,\n    innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n}: Pick<\n    CompletePieSvgProps<RawDatum>,\n    | 'startAngle'\n    | 'endAngle'\n    | 'padAngle'\n    | 'sortByValue'\n    | 'cornerRadius'\n    | 'activeInnerRadiusOffset'\n    | 'activeOuterRadiusOffset'\n> & {\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n    radius: number\n    innerRadius: number\n}) => {\n    const [activeId, setActiveId] = useState<DatumId | null>(null)\n    const dataWithArc = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        innerRadius,\n        outerRadius: radius,\n        padAngle,\n        sortByValue,\n        activeId,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n    })\n\n    const arcGenerator = useArcGenerator({ cornerRadius, padAngle: degreesToRadians(padAngle) })\n\n    return { dataWithArc, arcGenerator, setActiveId }\n}\n\n/**\n * Compute pie layout using a box to find radius/innerRadius,\n * expressed in ratio (0~1), can optionally use the `fit`\n * attribute to find the most space efficient layout.\n *\n * It also returns `centerX`/`centerY` as those can be altered\n * if `fit` is `true`.\n */\nexport const usePieFromBox = <RawDatum>({\n    data,\n    width,\n    height,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    sortByValue = defaultProps.sortByValue,\n    cornerRadius = defaultProps.cornerRadius,\n    fit = defaultProps.fit,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n}: Pick<\n    CompletePieSvgProps<RawDatum>,\n    | 'width'\n    | 'height'\n    | 'innerRadius'\n    | 'startAngle'\n    | 'endAngle'\n    | 'padAngle'\n    | 'sortByValue'\n    | 'cornerRadius'\n    | 'fit'\n    | 'activeInnerRadiusOffset'\n    | 'activeOuterRadiusOffset'\n> & {\n    data: Omit<ComputedDatum<RawDatum>, 'arc'>[]\n}) => {\n    const [activeId, setActiveId] = useState<string | number | null>(null)\n    const computedProps = useMemo(() => {\n        let radius = Math.min(width, height) / 2\n        let innerRadius = radius * Math.min(innerRadiusRatio, 1)\n\n        let centerX = width / 2\n        let centerY = height / 2\n\n        let boundingBox\n        if (fit) {\n            const { points, ...box } = computeArcBoundingBox(\n                centerX,\n                centerY,\n                radius,\n                startAngle - 90,\n                endAngle - 90\n            )\n            const ratio = Math.min(width / box.width, height / box.height)\n\n            const adjustedBox: {\n                width: number\n                height: number\n                x?: number\n                y?: number\n            } = {\n                width: box.width * ratio,\n                height: box.height * ratio,\n            }\n            adjustedBox.x = (width - adjustedBox.width) / 2\n            adjustedBox.y = (height - adjustedBox.height) / 2\n\n            centerX = ((centerX - box.x) / box.width) * box.width * ratio + adjustedBox.x\n            centerY = ((centerY - box.y) / box.height) * box.height * ratio + adjustedBox.y\n\n            boundingBox = { box, ratio, points }\n\n            radius = radius * ratio\n            innerRadius = innerRadius * ratio\n        }\n\n        return {\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n            debug: boundingBox,\n        }\n    }, [width, height, innerRadiusRatio, startAngle, endAngle, fit, cornerRadius])\n\n    const dataWithArc = usePieArcs({\n        data,\n        startAngle,\n        endAngle,\n        innerRadius: computedProps.innerRadius,\n        outerRadius: computedProps.radius,\n        padAngle,\n        sortByValue,\n        activeId,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n    })\n\n    const arcGenerator = useArcGenerator({\n        cornerRadius,\n        padAngle: degreesToRadians(padAngle),\n    })\n\n    return {\n        dataWithArc,\n        arcGenerator,\n        setActiveId,\n        ...computedProps,\n    }\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const usePieLayerContext = <RawDatum>({\n    dataWithArc,\n    arcGenerator,\n    centerX,\n    centerY,\n    radius,\n    innerRadius,\n}: {\n    dataWithArc: ComputedDatum<RawDatum>[]\n    arcGenerator: ArcGenerator\n    centerX: number\n    centerY: number\n    radius: number\n    innerRadius: number\n}): PieCustomLayerProps<RawDatum> =>\n    useMemo(\n        () => ({\n            dataWithArc,\n            arcGenerator,\n            centerX,\n            centerY,\n            radius,\n            innerRadius,\n        }),\n        [dataWithArc, arcGenerator, centerX, centerY, radius, innerRadius]\n    )\n","import React, { createElement, useMemo } from 'react'\nimport { ArcGenerator, ArcsLayer } from '@nivo/arcs'\nimport { useTooltip } from '@nivo/tooltip'\nimport { ComputedDatum, CompletePieSvgProps } from './types'\n\ninterface ArcsProps<RawDatum> {\n    center: [number, number]\n    data: ComputedDatum<RawDatum>[]\n    arcGenerator: ArcGenerator\n    borderWidth: CompletePieSvgProps<RawDatum>['borderWidth']\n    borderColor: CompletePieSvgProps<RawDatum>['borderColor']\n    isInteractive: CompletePieSvgProps<RawDatum>['isInteractive']\n    onClick?: CompletePieSvgProps<RawDatum>['onClick']\n    onMouseEnter?: CompletePieSvgProps<RawDatum>['onMouseEnter']\n    onMouseMove?: CompletePieSvgProps<RawDatum>['onMouseMove']\n    onMouseLeave?: CompletePieSvgProps<RawDatum>['onMouseLeave']\n    setActiveId: (id: null | string | number) => void\n    tooltip: CompletePieSvgProps<RawDatum>['tooltip']\n    transitionMode: CompletePieSvgProps<RawDatum>['transitionMode']\n}\n\nexport const Arcs = <RawDatum,>({\n    center,\n    data,\n    arcGenerator,\n    borderWidth,\n    borderColor,\n    isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    setActiveId,\n    tooltip,\n    transitionMode,\n}: ArcsProps<RawDatum>) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleClick = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            onClick?.(datum, event)\n        }\n    }, [isInteractive, onClick])\n\n    const handleMouseEnter = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n            setActiveId(datum.id)\n            onMouseEnter?.(datum, event)\n        }\n    }, [isInteractive, showTooltipFromEvent, setActiveId, onMouseEnter])\n\n    const handleMouseMove = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n            onMouseMove?.(datum, event)\n        }\n    }, [isInteractive, showTooltipFromEvent, onMouseMove])\n\n    const handleMouseLeave = useMemo(() => {\n        if (!isInteractive) return undefined\n\n        return (datum: ComputedDatum<RawDatum>, event: React.MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActiveId(null)\n            onMouseLeave?.(datum, event)\n        }\n    }, [isInteractive, hideTooltip, setActiveId, onMouseLeave])\n\n    return (\n        <ArcsLayer<ComputedDatum<RawDatum>>\n            center={center}\n            data={data}\n            arcGenerator={arcGenerator}\n            borderWidth={borderWidth}\n            borderColor={borderColor}\n            transitionMode={transitionMode}\n            onClick={handleClick}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n        />\n    )\n}\n","import React, { ReactNode, Fragment, createElement } from 'react'\nimport {\n    // @ts-ignore\n    bindDefs,\n    useDimensions,\n    Container,\n    SvgWrapper,\n} from '@nivo/core'\nimport { ArcLabelsLayer, ArcLinkLabelsLayer } from '@nivo/arcs'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport PieLegends from './PieLegends'\nimport { useNormalizedData, usePieFromBox, usePieLayerContext } from './hooks'\nimport { ComputedDatum, PieLayer, PieSvgProps, PieLayerId } from './types'\nimport { defaultProps } from './props'\nimport { Arcs } from './Arcs'\n\nconst InnerPie = <RawDatum,>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n\n    layers = defaultProps.layers as PieLayer<RawDatum>[],\n\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    colors = defaultProps.colors,\n\n    // border\n    borderWidth = defaultProps.borderWidth,\n    borderColor = defaultProps.borderColor as InheritedColorConfig<ComputedDatum<RawDatum>>,\n\n    // arc labels\n    enableArcLabels = defaultProps.enableArcLabels,\n    arcLabel = defaultProps.arcLabel,\n    arcLabelsSkipAngle = defaultProps.arcLabelsSkipAngle,\n    arcLabelsTextColor = defaultProps.arcLabelsTextColor,\n    arcLabelsRadiusOffset = defaultProps.arcLabelsRadiusOffset,\n    arcLabelsComponent,\n\n    // arc link labels\n    enableArcLinkLabels = defaultProps.enableArcLinkLabels,\n    arcLinkLabel = defaultProps.arcLinkLabel,\n    arcLinkLabelsSkipAngle = defaultProps.arcLinkLabelsSkipAngle,\n    arcLinkLabelsOffset = defaultProps.arcLinkLabelsOffset,\n    arcLinkLabelsDiagonalLength = defaultProps.arcLinkLabelsDiagonalLength,\n    arcLinkLabelsStraightLength = defaultProps.arcLinkLabelsStraightLength,\n    arcLinkLabelsThickness = defaultProps.arcLinkLabelsThickness,\n    arcLinkLabelsTextOffset = defaultProps.arcLinkLabelsTextOffset,\n    arcLinkLabelsTextColor = defaultProps.arcLinkLabelsTextColor,\n    arcLinkLabelsColor = defaultProps.arcLinkLabelsColor,\n    arcLinkLabelComponent,\n\n    // styling\n    defs = defaultProps.defs,\n    fill = defaultProps.fill,\n\n    // interactivity\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    tooltip = defaultProps.tooltip,\n\n    transitionMode = defaultProps.transitionMode,\n\n    legends = defaultProps.legends,\n    role = defaultProps.role,\n}: PieSvgProps<RawDatum>) => {\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const {\n        dataWithArc,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n        setActiveId,\n    } = usePieFromBox<RawDatum>({\n        data: normalizedData,\n        width: innerWidth,\n        height: innerHeight,\n        fit,\n        innerRadius: innerRadiusRatio,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n        cornerRadius,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n    })\n\n    const boundDefs = bindDefs(defs, dataWithArc, fill)\n\n    const layerById: Record<PieLayerId, ReactNode> = {\n        arcLinkLabels: null,\n        arcs: null,\n        arcLabels: null,\n        legends: null,\n    }\n\n    if (enableArcLinkLabels && layers.includes('arcLinkLabels')) {\n        layerById.arcLinkLabels = (\n            <ArcLinkLabelsLayer<ComputedDatum<RawDatum>>\n                key=\"arcLinkLabels\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                label={arcLinkLabel}\n                skipAngle={arcLinkLabelsSkipAngle}\n                offset={arcLinkLabelsOffset}\n                diagonalLength={arcLinkLabelsDiagonalLength}\n                straightLength={arcLinkLabelsStraightLength}\n                strokeWidth={arcLinkLabelsThickness}\n                textOffset={arcLinkLabelsTextOffset}\n                textColor={arcLinkLabelsTextColor}\n                linkColor={arcLinkLabelsColor}\n                component={arcLinkLabelComponent}\n            />\n        )\n    }\n\n    if (layers.includes('arcs')) {\n        layerById.arcs = (\n            <Arcs<RawDatum>\n                key=\"arcs\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                arcGenerator={arcGenerator}\n                borderWidth={borderWidth}\n                borderColor={borderColor}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                onMouseEnter={onMouseEnter}\n                onMouseMove={onMouseMove}\n                onMouseLeave={onMouseLeave}\n                setActiveId={setActiveId}\n                tooltip={tooltip}\n                transitionMode={transitionMode}\n            />\n        )\n    }\n\n    if (enableArcLabels && layers.includes('arcLabels')) {\n        layerById.arcLabels = (\n            <ArcLabelsLayer<ComputedDatum<RawDatum>>\n                key=\"arcLabels\"\n                center={[centerX, centerY]}\n                data={dataWithArc}\n                label={arcLabel}\n                radiusOffset={arcLabelsRadiusOffset}\n                skipAngle={arcLabelsSkipAngle}\n                textColor={arcLabelsTextColor}\n                transitionMode={transitionMode}\n                component={arcLabelsComponent}\n            />\n        )\n    }\n\n    if (legends.length > 0 && layers.includes('legends')) {\n        layerById.legends = (\n            <PieLegends<RawDatum>\n                key=\"legends\"\n                width={innerWidth}\n                height={innerHeight}\n                dataWithArc={dataWithArc}\n                legends={legends}\n            />\n        )\n    }\n\n    const layerContext = usePieLayerContext<RawDatum>({\n        dataWithArc,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n    })\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (layerById[layer as PieLayerId] !== undefined) {\n                    return layerById[layer as PieLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Pie = <RawDatum,>({\n    isInteractive = defaultProps.isInteractive,\n    animate = defaultProps.animate,\n    motionConfig = defaultProps.motionConfig,\n    theme,\n    ...otherProps\n}: PieSvgProps<RawDatum>) => (\n    <Container\n        isInteractive={isInteractive}\n        animate={animate}\n        motionConfig={motionConfig}\n        theme={theme}\n    >\n        <InnerPie<RawDatum> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport { Pie } from './Pie'\nimport { PieSvgProps } from './types'\n\nexport const ResponsivePie = <RawDatum,>(\n    props: Omit<PieSvgProps<RawDatum>, 'width' | 'height'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <Pie<RawDatum> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","import React, { createElement, useEffect, useMemo, useRef } from 'react'\nimport { getRelativeCursor, useDimensions, useTheme, Container } from '@nivo/core'\n// @ts-ignore\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useInheritedColor, InheritedColorConfig } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport {\n    Arc,\n    findArcUnderCursor,\n    useArcLabels,\n    drawCanvasArcLabels,\n    useArcLinkLabels,\n    drawCanvasArcLinkLabels,\n} from '@nivo/arcs'\nimport { useNormalizedData, usePieFromBox } from './hooks'\nimport { ComputedDatum, PieCanvasProps } from './types'\nimport { defaultProps } from './props'\n\nconst InnerPieCanvas = <RawDatum,>({\n    data,\n    id = defaultProps.id,\n    value = defaultProps.value,\n    valueFormat,\n    sortByValue = defaultProps.sortByValue,\n\n    startAngle = defaultProps.startAngle,\n    endAngle = defaultProps.endAngle,\n    padAngle = defaultProps.padAngle,\n    fit = defaultProps.fit,\n    innerRadius: innerRadiusRatio = defaultProps.innerRadius,\n    cornerRadius = defaultProps.cornerRadius,\n    activeInnerRadiusOffset = defaultProps.activeInnerRadiusOffset,\n    activeOuterRadiusOffset = defaultProps.activeOuterRadiusOffset,\n\n    width,\n    height,\n    margin: partialMargin,\n    pixelRatio = 1,\n\n    colors = defaultProps.colors,\n\n    // border\n    borderWidth = defaultProps.borderWidth,\n    borderColor = defaultProps.borderColor as InheritedColorConfig<ComputedDatum<RawDatum>>,\n\n    // arc labels\n    enableArcLabels = defaultProps.enableArcLabels,\n    arcLabel = defaultProps.arcLabel,\n    arcLabelsSkipAngle = defaultProps.arcLabelsSkipAngle,\n    arcLabelsTextColor = defaultProps.arcLabelsTextColor,\n    arcLabelsRadiusOffset = defaultProps.arcLabelsRadiusOffset,\n\n    // arc link labels\n    enableArcLinkLabels = defaultProps.enableArcLinkLabels,\n    arcLinkLabel = defaultProps.arcLinkLabel,\n    arcLinkLabelsSkipAngle = defaultProps.arcLinkLabelsSkipAngle,\n    arcLinkLabelsOffset = defaultProps.arcLinkLabelsOffset,\n    arcLinkLabelsDiagonalLength = defaultProps.arcLinkLabelsDiagonalLength,\n    arcLinkLabelsStraightLength = defaultProps.arcLinkLabelsStraightLength,\n    arcLinkLabelsThickness = defaultProps.arcLinkLabelsThickness,\n    arcLinkLabelsTextOffset = defaultProps.arcLinkLabelsTextOffset,\n    arcLinkLabelsTextColor = defaultProps.arcLinkLabelsTextColor,\n    arcLinkLabelsColor = defaultProps.arcLinkLabelsColor,\n\n    // interactivity\n    isInteractive = defaultProps.isInteractive,\n    onClick,\n    onMouseMove,\n    tooltip = defaultProps.tooltip,\n\n    legends = defaultProps.legends,\n}: PieCanvasProps<RawDatum>) => {\n    const canvasEl = useRef<HTMLCanvasElement | null>(null)\n    const theme = useTheme()\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const normalizedData = useNormalizedData<RawDatum>({\n        data,\n        id,\n        value,\n        valueFormat,\n        colors,\n    })\n\n    const {\n        dataWithArc,\n        arcGenerator,\n        centerX,\n        centerY,\n        radius,\n        innerRadius,\n        setActiveId,\n    } = usePieFromBox<RawDatum>({\n        data: normalizedData,\n        width: innerWidth,\n        height: innerHeight,\n        fit,\n        innerRadius: innerRadiusRatio,\n        startAngle,\n        endAngle,\n        padAngle,\n        sortByValue,\n        cornerRadius,\n        activeInnerRadiusOffset,\n        activeOuterRadiusOffset,\n    })\n\n    const getBorderColor = useInheritedColor<ComputedDatum<RawDatum>>(borderColor, theme)\n\n    const arcLabels = useArcLabels<ComputedDatum<RawDatum>>({\n        data: dataWithArc,\n        label: arcLabel,\n        skipAngle: arcLabelsSkipAngle,\n        offset: arcLabelsRadiusOffset,\n        textColor: arcLabelsTextColor,\n    })\n\n    const arcLinkLabels = useArcLinkLabels<ComputedDatum<RawDatum>>({\n        data: dataWithArc,\n        skipAngle: arcLinkLabelsSkipAngle,\n        offset: arcLinkLabelsOffset,\n        diagonalLength: arcLinkLabelsDiagonalLength,\n        straightLength: arcLinkLabelsStraightLength,\n        label: arcLinkLabel,\n        linkColor: arcLinkLabelsColor,\n        textOffset: arcLinkLabelsTextOffset,\n        textColor: arcLinkLabelsTextColor,\n    })\n\n    useEffect(() => {\n        if (!canvasEl.current) return\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        const ctx = canvasEl.current.getContext('2d')!\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n\n        ctx.save()\n        ctx.translate(margin.left, margin.top)\n        arcGenerator.context(ctx)\n\n        ctx.save()\n        ctx.translate(centerX, centerY)\n\n        dataWithArc.forEach(arc => {\n            ctx.beginPath()\n            ctx.fillStyle = arc.color\n\n            ctx.strokeStyle = getBorderColor(arc)\n            ctx.lineWidth = borderWidth\n\n            arcGenerator(arc.arc)\n\n            ctx.fill()\n\n            if (borderWidth > 0) {\n                ctx.stroke()\n            }\n        })\n\n        if (enableArcLinkLabels === true) {\n            drawCanvasArcLinkLabels<ComputedDatum<RawDatum>>(\n                ctx,\n                arcLinkLabels,\n                theme,\n                arcLinkLabelsThickness\n            )\n        }\n\n        if (enableArcLabels === true) {\n            drawCanvasArcLabels<ComputedDatum<RawDatum>>(ctx, arcLabels, theme)\n        }\n\n        // legends assume a box rather than a center,\n        // that's why we restore previously saved position here.\n        ctx.restore()\n        legends.forEach(legend => {\n            renderLegendToCanvas(ctx, {\n                ...legend,\n                data: dataWithArc,\n                containerWidth: innerWidth,\n                containerHeight: innerHeight,\n                theme,\n            })\n        })\n    }, [\n        canvasEl,\n        innerWidth,\n        innerHeight,\n        outerWidth,\n        outerHeight,\n        margin.top,\n        margin.left,\n        pixelRatio,\n        centerX,\n        centerY,\n        arcGenerator,\n        dataWithArc,\n        getBorderColor,\n        enableArcLabels,\n        arcLabels,\n        enableArcLinkLabels,\n        arcLinkLabels,\n        arcLinkLabelsThickness,\n        legends,\n        theme,\n    ])\n\n    const arcs = useMemo(\n        () =>\n            dataWithArc.map(datum => ({\n                id: datum.id,\n                ...datum.arc,\n            })),\n        [dataWithArc]\n    )\n\n    const getArcFromMouse = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!canvasEl.current) return null\n\n        const [x, y] = getRelativeCursor(canvasEl.current, event)\n\n        const hoveredArc = findArcUnderCursor<Arc & { id: string | number }>(\n            margin.left + centerX,\n            margin.top + centerY,\n            radius,\n            innerRadius,\n            arcs,\n            x,\n            y\n        )\n\n        if (!hoveredArc) return null\n\n        return dataWithArc.find(datum => datum.id === hoveredArc.id)\n    }\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        const datum = getArcFromMouse(event)\n        if (datum) {\n            onMouseMove?.(datum, event)\n            setActiveId(datum.id)\n            showTooltipFromEvent(createElement(tooltip, { datum }), event)\n        } else {\n            setActiveId(null)\n            hideTooltip()\n        }\n    }\n\n    const handleMouseLeave = () => {\n        hideTooltip()\n    }\n\n    const handleClick = (event: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!onClick) return\n\n        const arc = getArcFromMouse(event)\n        if (arc) {\n            onClick(arc, event)\n        }\n    }\n\n    return (\n        <canvas\n            ref={canvasEl}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nexport const PieCanvas = <RawDatum,>({\n    isInteractive = defaultProps.isInteractive,\n    theme,\n    ...otherProps\n}: PieCanvasProps<RawDatum>) => (\n    <Container isInteractive={isInteractive} theme={theme}>\n        <InnerPieCanvas<RawDatum> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport { PieCanvas } from './PieCanvas'\nimport { PieCanvasProps } from './types'\n\nexport const ResponsivePieCanvas = <RawDatum,>(\n    props: Omit<PieCanvasProps<RawDatum>, 'width' | 'height'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <PieCanvas<RawDatum> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n"]},"metadata":{},"sourceType":"module"}