{"ast":null,"code":"import _assertThisInitialized from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _toConsumableArray from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _get from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _wrapNativeSuper from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\nimport _regeneratorRuntime from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _objectSpread from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _createForOfIteratorHelper from \"/Users/neilrens/Desktop/finances2/test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport { eachProp, is, toArray, isAnimatedString, Globals, getFluidValue, useLayoutEffect, each, raf, flush, FluidValue, deprecateInterpolate, callFluidObservers, frameLoop, hasFluidValue, flushCalls, isEqual, getFluidObservers, addFluidObserver, removeFluidObserver, noop, useMemoOne, deprecateDirectCall, useForceUpdate, usePrev, useOnce, createInterpolator, createStringInterpolator } from '@react-spring/shared';\nexport { Globals, createInterpolator } from '@react-spring/shared';\nimport { useContext, createElement, createContext, useMemo, useRef, useState, Fragment } from 'react';\nimport { getAnimated, AnimatedValue, getPayload, AnimatedString, getAnimatedType, setAnimated } from '@react-spring/animated';\nexport * from '@react-spring/types/animated';\nexport * from '@react-spring/types/interpolation';\n\nfunction callProp(value) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return is.fun(value) ? value.apply(void 0, args) : value;\n}\n\nvar matchProp = function matchProp(value, key) {\n  return value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\n};\n\nvar resolveProp = function resolveProp(prop, key) {\n  return is.obj(prop) ? key && prop[key] : prop;\n};\n\nvar getDefaultProp = function getDefaultProp(props, key) {\n  return props.default === true ? props[key] : props.default ? props.default[key] : void 0;\n};\n\nvar noopTransform = function noopTransform(value) {\n  return value;\n};\n\nvar getDefaultProps = function getDefaultProps(props) {\n  var transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noopTransform;\n  var keys = DEFAULT_PROPS;\n\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n\n  var defaults = {};\n\n  var _iterator = _createForOfIteratorHelper(keys),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      var value = transform(props[key], key);\n\n      if (!is.und(value)) {\n        defaults[key] = value;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return defaults;\n};\n\nvar DEFAULT_PROPS = [\"config\", \"onProps\", \"onStart\", \"onChange\", \"onPause\", \"onResume\", \"onRest\"];\nvar RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\n\nfunction getForwardProps(props) {\n  var forward = {};\n  var count = 0;\n  eachProp(props, function (value, prop) {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n\n  if (count) {\n    return forward;\n  }\n}\n\nfunction inferTo(props) {\n  var to = getForwardProps(props);\n\n  if (to) {\n    var out = {\n      to: to\n    };\n    eachProp(props, function (val, key) {\n      return key in to || (out[key] = val);\n    });\n    return out;\n  }\n\n  return _objectSpread({}, props);\n}\n\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? Globals.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\n\nfunction hasProps(props) {\n  for (var _ in props) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isAsyncTo(to) {\n  return is.fun(to) || is.arr(to) && is.obj(to[0]);\n}\n\nfunction detachRefs(ctrl, ref) {\n  var _a;\n\n  (_a = ctrl.ref) == null ? void 0 : _a.delete(ctrl);\n  ref == null ? void 0 : ref.delete(ctrl);\n}\n\nfunction replaceRef(ctrl, ref) {\n  var _a;\n\n  if (ref && ctrl.ref !== ref) {\n    (_a = ctrl.ref) == null ? void 0 : _a.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\nfunction useChain(refs, timeSteps) {\n  var timeFrame = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1e3;\n  useLayoutEffect(function () {\n    if (timeSteps) {\n      var prevDelay = 0;\n      each(refs, function (ref, i) {\n        var controllers = ref.current;\n\n        if (controllers.length) {\n          var delay = timeFrame * timeSteps[i];\n          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;\n          each(controllers, function (ctrl) {\n            each(ctrl.queue, function (props) {\n              var memoizedDelayProp = props.delay;\n\n              props.delay = function (key) {\n                return delay + callProp(memoizedDelayProp || 0, key);\n              };\n            });\n            ctrl.start();\n          });\n        }\n      });\n    } else {\n      var p = Promise.resolve();\n      each(refs, function (ref) {\n        var controllers = ref.current;\n\n        if (controllers.length) {\n          var queues = controllers.map(function (ctrl) {\n            var q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(function () {\n            each(controllers, function (ctrl, i) {\n              return each(queues[i] || [], function (update) {\n                return ctrl.queue.push(update);\n              });\n            });\n            return ref.start();\n          });\n        }\n      });\n    }\n  });\n}\n\nvar config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\nvar linear = function linear(t) {\n  return t;\n};\n\nvar defaults = _objectSpread(_objectSpread({}, config.default), {}, {\n  mass: 1,\n  damping: 1,\n  easing: linear,\n  clamp: false\n});\n\nvar AnimationConfig = function AnimationConfig() {\n  _classCallCheck(this, AnimationConfig);\n\n  this.velocity = 0;\n  Object.assign(this, defaults);\n};\n\nfunction mergeConfig(config, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = _objectSpread({}, defaultConfig);\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = _objectSpread(_objectSpread({}, defaultConfig), newConfig);\n  }\n\n  sanitizeConfig(config, newConfig);\n  Object.assign(config, newConfig);\n\n  for (var key in defaults) {\n    if (config[key] == null) {\n      config[key] = defaults[key];\n    }\n  }\n\n  var mass = config.mass,\n      frequency = config.frequency,\n      damping = config.damping;\n\n  if (!is.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n\n  return config;\n}\n\nfunction sanitizeConfig(config, props) {\n  if (!is.und(props.decay)) {\n    config.duration = void 0;\n  } else {\n    var isTensionConfig = !is.und(props.tension) || !is.und(props.friction);\n\n    if (isTensionConfig || !is.und(props.frequency) || !is.und(props.damping) || !is.und(props.mass)) {\n      config.duration = void 0;\n      config.decay = void 0;\n    }\n\n    if (isTensionConfig) {\n      config.frequency = void 0;\n    }\n  }\n}\n\nvar emptyArray = [];\n\nvar Animation = function Animation() {\n  _classCallCheck(this, Animation);\n\n  this.changed = false;\n  this.values = emptyArray;\n  this.toValues = null;\n  this.fromValues = emptyArray;\n  this.config = new AnimationConfig();\n  this.immediate = false;\n};\n\nfunction scheduleProps(callId, _ref) {\n  var key = _ref.key,\n      props = _ref.props,\n      defaultProps = _ref.defaultProps,\n      state = _ref.state,\n      actions = _ref.actions;\n  return new Promise(function (resolve, reject) {\n    var _a;\n\n    var delay;\n    var timeout;\n    var cancel = matchProp((_a = props.cancel) != null ? _a : defaultProps == null ? void 0 : defaultProps.cancel, key);\n\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n\n      var pause = defaultProps == null ? void 0 : defaultProps.pause;\n\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n\n      delay = callProp(props.delay || 0, key);\n\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n\n    function onResume() {\n      if (delay > 0) {\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n\n    function onStart() {\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n\n      try {\n        actions.start(_objectSpread(_objectSpread({}, props), {}, {\n          callId: callId,\n          cancel: cancel\n        }), resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\nvar getCombinedResult = function getCombinedResult(target, results) {\n  return results.length == 1 ? results[0] : results.some(function (result) {\n    return result.cancelled;\n  }) ? getCancelledResult(target.get()) : results.every(function (result) {\n    return result.noop;\n  }) ? getNoopResult(target.get()) : getFinishedResult(target.get(), results.every(function (result) {\n    return result.finished;\n  }));\n};\n\nvar getNoopResult = function getNoopResult(value) {\n  return {\n    value: value,\n    noop: true,\n    finished: true,\n    cancelled: false\n  };\n};\n\nvar getFinishedResult = function getFinishedResult(value, finished) {\n  var cancelled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return {\n    value: value,\n    finished: finished,\n    cancelled: cancelled\n  };\n};\n\nvar getCancelledResult = function getCancelledResult(value) {\n  return {\n    value: value,\n    cancelled: true,\n    finished: false\n  };\n};\n\nfunction runAsync(to, props, state, target) {\n  var callId = props.callId,\n      parentId = props.parentId,\n      onRest = props.onRest;\n  var prevTo = state.asyncTo,\n      prevPromise = state.promise;\n\n  if (!parentId && to === prevTo && !props.reset) {\n    return prevPromise;\n  }\n\n  return state.promise = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var defaultProps, preventBail, bail, bailPromise, bailIfEnded, animate, result, animating;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            state.asyncId = callId;\n            state.asyncTo = to;\n            defaultProps = getDefaultProps(props, function (value, key) {\n              return key === \"onRest\" ? void 0 : value;\n            });\n            bailPromise = new Promise(function (resolve, reject) {\n              return preventBail = resolve, bail = reject;\n            });\n\n            bailIfEnded = function bailIfEnded(bailSignal) {\n              var bailResult = callId <= (state.cancelId || 0) && getCancelledResult(target) || callId !== state.asyncId && getFinishedResult(target, false);\n\n              if (bailResult) {\n                bailSignal.result = bailResult;\n                bail(bailSignal);\n                throw bailSignal;\n              }\n            };\n\n            animate = function animate(arg1, arg2) {\n              var bailSignal = new BailSignal();\n              var skipAnimationSignal = new SkipAniamtionSignal();\n              return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                var props2, result2;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        if (!Globals.skipAnimation) {\n                          _context.next = 5;\n                          break;\n                        }\n\n                        stopAsync(state);\n                        skipAnimationSignal.result = getFinishedResult(target, false);\n                        bail(skipAnimationSignal);\n                        throw skipAnimationSignal;\n\n                      case 5:\n                        bailIfEnded(bailSignal);\n                        props2 = is.obj(arg1) ? _objectSpread({}, arg1) : _objectSpread(_objectSpread({}, arg2), {}, {\n                          to: arg1\n                        });\n                        props2.parentId = callId;\n                        eachProp(defaultProps, function (value, key) {\n                          if (is.und(props2[key])) {\n                            props2[key] = value;\n                          }\n                        });\n                        _context.next = 11;\n                        return target.start(props2);\n\n                      case 11:\n                        result2 = _context.sent;\n                        bailIfEnded(bailSignal);\n\n                        if (!state.paused) {\n                          _context.next = 16;\n                          break;\n                        }\n\n                        _context.next = 16;\n                        return new Promise(function (resume) {\n                          state.resumeQueue.add(resume);\n                        });\n\n                      case 16:\n                        return _context.abrupt(\"return\", result2);\n\n                      case 17:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }))();\n            };\n\n            if (!Globals.skipAnimation) {\n              _context3.next = 9;\n              break;\n            }\n\n            stopAsync(state);\n            return _context3.abrupt(\"return\", getFinishedResult(target, false));\n\n          case 9:\n            _context3.prev = 9;\n\n            if (is.arr(to)) {\n              animating = function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(queue) {\n                  var _iterator2, _step2, props2;\n\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _iterator2 = _createForOfIteratorHelper(queue);\n                          _context2.prev = 1;\n\n                          _iterator2.s();\n\n                        case 3:\n                          if ((_step2 = _iterator2.n()).done) {\n                            _context2.next = 9;\n                            break;\n                          }\n\n                          props2 = _step2.value;\n                          _context2.next = 7;\n                          return animate(props2);\n\n                        case 7:\n                          _context2.next = 3;\n                          break;\n\n                        case 9:\n                          _context2.next = 14;\n                          break;\n\n                        case 11:\n                          _context2.prev = 11;\n                          _context2.t0 = _context2[\"catch\"](1);\n\n                          _iterator2.e(_context2.t0);\n\n                        case 14:\n                          _context2.prev = 14;\n\n                          _iterator2.f();\n\n                          return _context2.finish(14);\n\n                        case 17:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, null, [[1, 11, 14, 17]]);\n                }));\n\n                return function (_x) {\n                  return _ref4.apply(this, arguments);\n                };\n              }()(to);\n            } else {\n              animating = Promise.resolve(to(animate, target.stop.bind(target)));\n            }\n\n            _context3.next = 13;\n            return Promise.all([animating.then(preventBail), bailPromise]);\n\n          case 13:\n            result = getFinishedResult(target.get(), true, false);\n            _context3.next = 27;\n            break;\n\n          case 16:\n            _context3.prev = 16;\n            _context3.t0 = _context3[\"catch\"](9);\n\n            if (!(_context3.t0 instanceof BailSignal)) {\n              _context3.next = 22;\n              break;\n            }\n\n            result = _context3.t0.result;\n            _context3.next = 27;\n            break;\n\n          case 22:\n            if (!(_context3.t0 instanceof SkipAniamtionSignal)) {\n              _context3.next = 26;\n              break;\n            }\n\n            result = _context3.t0.result;\n            _context3.next = 27;\n            break;\n\n          case 26:\n            throw _context3.t0;\n\n          case 27:\n            _context3.prev = 27;\n\n            if (callId == state.asyncId) {\n              state.asyncId = parentId;\n              state.asyncTo = parentId ? prevTo : void 0;\n              state.promise = parentId ? prevPromise : void 0;\n            }\n\n            return _context3.finish(27);\n\n          case 30:\n            if (is.fun(onRest)) {\n              raf.batchedUpdates(function () {\n                onRest(result, target, target.item);\n              });\n            }\n\n            return _context3.abrupt(\"return\", result);\n\n          case 32:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[9, 16, 27, 30]]);\n  }))();\n}\n\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, function (t) {\n    return t.cancel();\n  });\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = void 0;\n  if (cancelId) state.cancelId = cancelId;\n}\n\nvar BailSignal = /*#__PURE__*/function (_Error) {\n  _inherits(BailSignal, _Error);\n\n  var _super = _createSuper(BailSignal);\n\n  function BailSignal() {\n    _classCallCheck(this, BailSignal);\n\n    return _super.call(this, \"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.\");\n  }\n\n  return BailSignal;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar SkipAniamtionSignal = /*#__PURE__*/function (_Error2) {\n  _inherits(SkipAniamtionSignal, _Error2);\n\n  var _super2 = _createSuper(SkipAniamtionSignal);\n\n  function SkipAniamtionSignal() {\n    _classCallCheck(this, SkipAniamtionSignal);\n\n    return _super2.call(this, \"SkipAnimationSignal\");\n  }\n\n  return SkipAniamtionSignal;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar isFrameValue = function isFrameValue(value) {\n  return value instanceof FrameValue;\n};\n\nvar nextId = 1;\n\nvar FrameValue = /*#__PURE__*/function (_FluidValue) {\n  _inherits(FrameValue, _FluidValue);\n\n  var _super3 = _createSuper(FrameValue);\n\n  function FrameValue() {\n    var _this;\n\n    _classCallCheck(this, FrameValue);\n\n    _this = _super3.apply(this, arguments);\n    _this.id = nextId++;\n    _this._priority = 0;\n    return _this;\n  }\n\n  _createClass(FrameValue, [{\n    key: \"priority\",\n    get: function get() {\n      return this._priority;\n    },\n    set: function set(priority) {\n      if (this._priority != priority) {\n        this._priority = priority;\n\n        this._onPriorityChange(priority);\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var node = getAnimated(this);\n      return node && node.getValue();\n    }\n  }, {\n    key: \"to\",\n    value: function to() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return Globals.to(this, args);\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate() {\n      deprecateInterpolate();\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return Globals.to(this, args);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.get();\n    }\n  }, {\n    key: \"observerAdded\",\n    value: function observerAdded(count) {\n      if (count == 1) this._attach();\n    }\n  }, {\n    key: \"observerRemoved\",\n    value: function observerRemoved(count) {\n      if (count == 0) this._detach();\n    }\n  }, {\n    key: \"_attach\",\n    value: function _attach() {}\n  }, {\n    key: \"_detach\",\n    value: function _detach() {}\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(value) {\n      var idle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      callFluidObservers(this, {\n        type: \"change\",\n        parent: this,\n        value: value,\n        idle: idle\n      });\n    }\n  }, {\n    key: \"_onPriorityChange\",\n    value: function _onPriorityChange(priority) {\n      if (!this.idle) {\n        frameLoop.sort(this);\n      }\n\n      callFluidObservers(this, {\n        type: \"priority\",\n        parent: this,\n        priority: priority\n      });\n    }\n  }]);\n\n  return FrameValue;\n}(FluidValue);\n\nvar $P = Symbol.for(\"SpringPhase\");\nvar HAS_ANIMATED = 1;\nvar IS_ANIMATING = 2;\nvar IS_PAUSED = 4;\n\nvar hasAnimated = function hasAnimated(target) {\n  return (target[$P] & HAS_ANIMATED) > 0;\n};\n\nvar isAnimating = function isAnimating(target) {\n  return (target[$P] & IS_ANIMATING) > 0;\n};\n\nvar isPaused = function isPaused(target) {\n  return (target[$P] & IS_PAUSED) > 0;\n};\n\nvar setActiveBit = function setActiveBit(target, active) {\n  return active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\n};\n\nvar setPausedBit = function setPausedBit(target, paused) {\n  return paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n};\n\nvar SpringValue = /*#__PURE__*/function (_FrameValue) {\n  _inherits(SpringValue, _FrameValue);\n\n  var _super4 = _createSuper(SpringValue);\n\n  function SpringValue(arg1, arg2) {\n    var _this2;\n\n    _classCallCheck(this, SpringValue);\n\n    _this2 = _super4.call(this);\n    _this2.animation = new Animation();\n    _this2.defaultProps = {};\n    _this2._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    _this2._pendingCalls = new Set();\n    _this2._lastCallId = 0;\n    _this2._lastToId = 0;\n    _this2._memoizedDuration = 0;\n\n    if (!is.und(arg1) || !is.und(arg2)) {\n      var props = is.obj(arg1) ? _objectSpread({}, arg1) : _objectSpread(_objectSpread({}, arg2), {}, {\n        from: arg1\n      });\n\n      if (is.und(props.default)) {\n        props.default = true;\n      }\n\n      _this2.start(props);\n    }\n\n    return _this2;\n  }\n\n  _createClass(SpringValue, [{\n    key: \"idle\",\n    get: function get() {\n      return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n    }\n  }, {\n    key: \"goal\",\n    get: function get() {\n      return getFluidValue(this.animation.to);\n    }\n  }, {\n    key: \"velocity\",\n    get: function get() {\n      var node = getAnimated(this);\n      return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map(function (node2) {\n        return node2.lastVelocity || 0;\n      });\n    }\n  }, {\n    key: \"hasAnimated\",\n    get: function get() {\n      return hasAnimated(this);\n    }\n  }, {\n    key: \"isAnimating\",\n    get: function get() {\n      return isAnimating(this);\n    }\n  }, {\n    key: \"isPaused\",\n    get: function get() {\n      return isPaused(this);\n    }\n  }, {\n    key: \"advance\",\n    value: function advance(dt) {\n      var _this3 = this;\n\n      var idle = true;\n      var changed = false;\n      var anim = this.animation;\n      var config = anim.config,\n          toValues = anim.toValues;\n      var payload = getPayload(anim.to);\n\n      if (!payload && hasFluidValue(anim.to)) {\n        toValues = toArray(getFluidValue(anim.to));\n      }\n\n      anim.values.forEach(function (node2, i) {\n        if (node2.done) return;\n        var to = node2.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i];\n        var finished = anim.immediate;\n        var position = to;\n\n        if (!finished) {\n          position = node2.lastPosition;\n\n          if (config.tension <= 0) {\n            node2.done = true;\n            return;\n          }\n\n          var elapsed = node2.elapsedTime += dt;\n          var from = anim.fromValues[i];\n          var v0 = node2.v0 != null ? node2.v0 : node2.v0 = is.arr(config.velocity) ? config.velocity[i] : config.velocity;\n          var velocity;\n\n          if (!is.und(config.duration)) {\n            var p = 1;\n\n            if (config.duration > 0) {\n              if (_this3._memoizedDuration !== config.duration) {\n                _this3._memoizedDuration = config.duration;\n\n                if (node2.durationProgress > 0) {\n                  node2.elapsedTime = config.duration * node2.durationProgress;\n                  elapsed = node2.elapsedTime += dt;\n                }\n              }\n\n              p = (config.progress || 0) + elapsed / _this3._memoizedDuration;\n              p = p > 1 ? 1 : p < 0 ? 0 : p;\n              node2.durationProgress = p;\n            }\n\n            position = from + config.easing(p) * (to - from);\n            velocity = (position - node2.lastPosition) / dt;\n            finished = p == 1;\n          } else if (config.decay) {\n            var decay = config.decay === true ? 0.998 : config.decay;\n            var e = Math.exp(-(1 - decay) * elapsed);\n            position = from + v0 / (1 - decay) * (1 - e);\n            finished = Math.abs(node2.lastPosition - position) < 0.1;\n            velocity = v0 * e;\n          } else {\n            velocity = node2.lastVelocity == null ? v0 : node2.lastVelocity;\n            var precision = config.precision || (from == to ? 5e-3 : Math.min(1, Math.abs(to - from) * 1e-3));\n            var restVelocity = config.restVelocity || precision / 10;\n            var bounceFactor = config.clamp ? 0 : config.bounce;\n            var canBounce = !is.und(bounceFactor);\n            var isGrowing = from == to ? node2.v0 > 0 : from < to;\n            var isMoving;\n            var isBouncing = false;\n            var step = 1;\n            var numSteps = Math.ceil(dt / step);\n\n            for (var n = 0; n < numSteps; ++n) {\n              isMoving = Math.abs(velocity) > restVelocity;\n\n              if (!isMoving) {\n                finished = Math.abs(to - position) <= precision;\n\n                if (finished) {\n                  break;\n                }\n              }\n\n              if (canBounce) {\n                isBouncing = position == to || position > to == isGrowing;\n\n                if (isBouncing) {\n                  velocity = -velocity * bounceFactor;\n                  position = to;\n                }\n              }\n\n              var springForce = -config.tension * 1e-6 * (position - to);\n              var dampingForce = -config.friction * 1e-3 * velocity;\n              var acceleration = (springForce + dampingForce) / config.mass;\n              velocity = velocity + acceleration * step;\n              position = position + velocity * step;\n            }\n          }\n\n          node2.lastVelocity = velocity;\n\n          if (Number.isNaN(position)) {\n            console.warn(\"Got NaN while animating:\", _this3);\n            finished = true;\n          }\n        }\n\n        if (payload && !payload[i].done) {\n          finished = false;\n        }\n\n        if (finished) {\n          node2.done = true;\n        } else {\n          idle = false;\n        }\n\n        if (node2.setValue(position, config.round)) {\n          changed = true;\n        }\n      });\n      var node = getAnimated(this);\n\n      if (idle) {\n        var value = getFluidValue(anim.to);\n\n        if (node.setValue(value) || changed) {\n          this._onChange(value);\n        }\n\n        this._stop();\n      } else if (changed) {\n        this._onChange(node.getValue());\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(value) {\n      var _this4 = this;\n\n      raf.batchedUpdates(function () {\n        _this4._stop();\n\n        _this4._focus(value);\n\n        _this4._set(value);\n      });\n      return this;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this._update({\n        pause: true\n      });\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this._update({\n        pause: false\n      });\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      var _this5 = this;\n\n      if (isAnimating(this)) {\n        var _this$animation = this.animation,\n            _to = _this$animation.to,\n            _config = _this$animation.config;\n        raf.batchedUpdates(function () {\n          _this5._onStart();\n\n          if (!_config.decay) {\n            _this5._set(_to, false);\n          }\n\n          _this5._stop();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update(props) {\n      var queue = this.queue || (this.queue = []);\n      queue.push(props);\n      return this;\n    }\n  }, {\n    key: \"start\",\n    value: function start(to, arg2) {\n      var _this6 = this;\n\n      var queue;\n\n      if (!is.und(to)) {\n        queue = [is.obj(to) ? to : _objectSpread(_objectSpread({}, arg2), {}, {\n          to: to\n        })];\n      } else {\n        queue = this.queue || [];\n        this.queue = [];\n      }\n\n      return Promise.all(queue.map(function (props) {\n        return _this6._update(props);\n      })).then(function (results) {\n        return getCombinedResult(_this6, results);\n      });\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(cancel) {\n      var _this7 = this;\n\n      var to = this.animation.to;\n\n      this._focus(this.get());\n\n      stopAsync(this._state, cancel && this._lastCallId);\n      raf.batchedUpdates(function () {\n        return _this7._stop(to, cancel);\n      });\n      return this;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._update({\n        reset: true\n      });\n    }\n  }, {\n    key: \"eventObserved\",\n    value: function eventObserved(event) {\n      if (event.type == \"change\") {\n        this._start();\n      } else if (event.type == \"priority\") {\n        this.priority = event.priority + 1;\n      }\n    }\n  }, {\n    key: \"_prepareNode\",\n    value: function _prepareNode(props) {\n      var key = this.key || \"\";\n      var to = props.to,\n          from = props.from;\n      to = is.obj(to) ? to[key] : to;\n\n      if (to == null || isAsyncTo(to)) {\n        to = void 0;\n      }\n\n      from = is.obj(from) ? from[key] : from;\n\n      if (from == null) {\n        from = void 0;\n      }\n\n      var range = {\n        to: to,\n        from: from\n      };\n\n      if (!hasAnimated(this)) {\n        if (props.reverse) {\n          var _ref5 = [from, to];\n          to = _ref5[0];\n          from = _ref5[1];\n        }\n\n        from = getFluidValue(from);\n\n        if (!is.und(from)) {\n          this._set(from);\n        } else if (!getAnimated(this)) {\n          this._set(to);\n        }\n      }\n\n      return range;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(_ref6, isLoop) {\n      var _this8 = this;\n\n      var props = Object.assign({}, _ref6);\n      var key = this.key,\n          defaultProps = this.defaultProps;\n      if (props.default) Object.assign(defaultProps, getDefaultProps(props, function (value, prop) {\n        return /^on/.test(prop) ? resolveProp(value, key) : value;\n      }));\n      mergeActiveFn(this, props, \"onProps\");\n      sendEvent(this, \"onProps\", props, this);\n\n      var range = this._prepareNode(props);\n\n      if (Object.isFrozen(this)) {\n        throw Error(\"Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?\");\n      }\n\n      var state = this._state;\n      return scheduleProps(++this._lastCallId, {\n        key: key,\n        props: props,\n        defaultProps: defaultProps,\n        state: state,\n        actions: {\n          pause: function pause() {\n            if (!isPaused(_this8)) {\n              setPausedBit(_this8, true);\n              flushCalls(state.pauseQueue);\n              sendEvent(_this8, \"onPause\", getFinishedResult(_this8, checkFinished(_this8, _this8.animation.to)), _this8);\n            }\n          },\n          resume: function resume() {\n            if (isPaused(_this8)) {\n              setPausedBit(_this8, false);\n\n              if (isAnimating(_this8)) {\n                _this8._resume();\n              }\n\n              flushCalls(state.resumeQueue);\n              sendEvent(_this8, \"onResume\", getFinishedResult(_this8, checkFinished(_this8, _this8.animation.to)), _this8);\n            }\n          },\n          start: this._merge.bind(this, range)\n        }\n      }).then(function (result) {\n        if (props.loop && result.finished && !(isLoop && result.noop)) {\n          var nextProps = createLoopUpdate(props);\n\n          if (nextProps) {\n            return _this8._update(nextProps, true);\n          }\n        }\n\n        return result;\n      });\n    }\n  }, {\n    key: \"_merge\",\n    value: function _merge(range, props, resolve) {\n      var _this9 = this;\n\n      if (props.cancel) {\n        this.stop(true);\n        return resolve(getCancelledResult(this));\n      }\n\n      var hasToProp = !is.und(range.to);\n      var hasFromProp = !is.und(range.from);\n\n      if (hasToProp || hasFromProp) {\n        if (props.callId > this._lastToId) {\n          this._lastToId = props.callId;\n        } else {\n          return resolve(getCancelledResult(this));\n        }\n      }\n\n      var key = this.key,\n          defaultProps = this.defaultProps,\n          anim = this.animation;\n      var prevTo = anim.to,\n          prevFrom = anim.from;\n      var _range$to = range.to,\n          to = _range$to === void 0 ? prevTo : _range$to,\n          _range$from = range.from,\n          from = _range$from === void 0 ? prevFrom : _range$from;\n\n      if (hasFromProp && !hasToProp && (!props.default || is.und(to))) {\n        to = from;\n      }\n\n      if (props.reverse) {\n        var _ref7 = [from, to];\n        to = _ref7[0];\n        from = _ref7[1];\n      }\n\n      var hasFromChanged = !isEqual(from, prevFrom);\n\n      if (hasFromChanged) {\n        anim.from = from;\n      }\n\n      from = getFluidValue(from);\n      var hasToChanged = !isEqual(to, prevTo);\n\n      if (hasToChanged) {\n        this._focus(to);\n      }\n\n      var hasAsyncTo = isAsyncTo(props.to);\n      var config = anim.config;\n      var decay = config.decay,\n          velocity = config.velocity;\n\n      if (hasToProp || hasFromProp) {\n        config.velocity = 0;\n      }\n\n      if (props.config && !hasAsyncTo) {\n        mergeConfig(config, callProp(props.config, key), props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);\n      }\n\n      var node = getAnimated(this);\n\n      if (!node || is.und(to)) {\n        return resolve(getFinishedResult(this, true));\n      }\n\n      var reset = is.und(props.reset) ? hasFromProp && !props.default : !is.und(from) && matchProp(props.reset, key);\n      var value = reset ? from : this.get();\n      var goal = computeGoal(to);\n      var isAnimatable = is.num(goal) || is.arr(goal) || isAnimatedString(goal);\n      var immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n\n      if (hasToChanged) {\n        var nodeType = getAnimatedType(to);\n\n        if (nodeType !== node.constructor) {\n          if (immediate) {\n            node = this._set(goal);\n          } else throw Error(\"Cannot animate between \".concat(node.constructor.name, \" and \").concat(nodeType.name, \", as the \\\"to\\\" prop suggests\"));\n        }\n      }\n\n      var goalType = node.constructor;\n      var started = hasFluidValue(to);\n      var finished = false;\n\n      if (!started) {\n        var hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n\n        if (hasToChanged || hasValueChanged) {\n          finished = isEqual(computeGoal(value), goal);\n          started = !finished;\n        }\n\n        if (!isEqual(config.decay, decay) || !isEqual(config.velocity, velocity)) {\n          started = true;\n        }\n      }\n\n      if (finished && isAnimating(this)) {\n        if (anim.changed && !reset) {\n          started = true;\n        } else if (!started) {\n          this._stop(prevTo);\n        }\n      }\n\n      if (!hasAsyncTo) {\n        if (started || hasFluidValue(prevTo)) {\n          anim.values = node.getPayload();\n          anim.toValues = hasFluidValue(to) ? null : goalType == AnimatedString ? [1] : toArray(goal);\n        }\n\n        if (anim.immediate != immediate) {\n          anim.immediate = immediate;\n\n          if (!immediate && !reset) {\n            this._set(prevTo);\n          }\n        }\n\n        if (started) {\n          var onRest = anim.onRest;\n          each(ACTIVE_EVENTS, function (type) {\n            return mergeActiveFn(_this9, props, type);\n          });\n          var result = getFinishedResult(this, checkFinished(this, prevTo));\n          flushCalls(this._pendingCalls, result);\n\n          this._pendingCalls.add(resolve);\n\n          if (anim.changed) raf.batchedUpdates(function () {\n            var _a;\n\n            anim.changed = !reset;\n            onRest == null ? void 0 : onRest(result, _this9);\n\n            if (reset) {\n              callProp(defaultProps.onRest, result);\n            } else {\n              (_a = anim.onStart) == null ? void 0 : _a.call(anim, result, _this9);\n            }\n          });\n        }\n      }\n\n      if (reset) {\n        this._set(value);\n      }\n\n      if (hasAsyncTo) {\n        resolve(runAsync(props.to, props, this._state, this));\n      } else if (started) {\n        this._start();\n      } else if (isAnimating(this) && !hasToChanged) {\n        this._pendingCalls.add(resolve);\n      } else {\n        resolve(getNoopResult(value));\n      }\n    }\n  }, {\n    key: \"_focus\",\n    value: function _focus(value) {\n      var anim = this.animation;\n\n      if (value !== anim.to) {\n        if (getFluidObservers(this)) {\n          this._detach();\n        }\n\n        anim.to = value;\n\n        if (getFluidObservers(this)) {\n          this._attach();\n        }\n      }\n    }\n  }, {\n    key: \"_attach\",\n    value: function _attach() {\n      var priority = 0;\n      var to = this.animation.to;\n\n      if (hasFluidValue(to)) {\n        addFluidObserver(to, this);\n\n        if (isFrameValue(to)) {\n          priority = to.priority + 1;\n        }\n      }\n\n      this.priority = priority;\n    }\n  }, {\n    key: \"_detach\",\n    value: function _detach() {\n      var to = this.animation.to;\n\n      if (hasFluidValue(to)) {\n        removeFluidObserver(to, this);\n      }\n    }\n  }, {\n    key: \"_set\",\n    value: function _set(arg) {\n      var _this10 = this;\n\n      var idle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var value = getFluidValue(arg);\n\n      if (!is.und(value)) {\n        var oldNode = getAnimated(this);\n\n        if (!oldNode || !isEqual(value, oldNode.getValue())) {\n          var nodeType = getAnimatedType(value);\n\n          if (!oldNode || oldNode.constructor != nodeType) {\n            setAnimated(this, nodeType.create(value));\n          } else {\n            oldNode.setValue(value);\n          }\n\n          if (oldNode) {\n            raf.batchedUpdates(function () {\n              _this10._onChange(value, idle);\n            });\n          }\n        }\n      }\n\n      return getAnimated(this);\n    }\n  }, {\n    key: \"_onStart\",\n    value: function _onStart() {\n      var anim = this.animation;\n\n      if (!anim.changed) {\n        anim.changed = true;\n        sendEvent(this, \"onStart\", getFinishedResult(this, checkFinished(this, anim.to)), this);\n      }\n    }\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(value, idle) {\n      if (!idle) {\n        this._onStart();\n\n        callProp(this.animation.onChange, value, this);\n      }\n\n      callProp(this.defaultProps.onChange, value, this);\n\n      _get(_getPrototypeOf(SpringValue.prototype), \"_onChange\", this).call(this, value, idle);\n    }\n  }, {\n    key: \"_start\",\n    value: function _start() {\n      var anim = this.animation;\n      getAnimated(this).reset(getFluidValue(anim.to));\n\n      if (!anim.immediate) {\n        anim.fromValues = anim.values.map(function (node) {\n          return node.lastPosition;\n        });\n      }\n\n      if (!isAnimating(this)) {\n        setActiveBit(this, true);\n\n        if (!isPaused(this)) {\n          this._resume();\n        }\n      }\n    }\n  }, {\n    key: \"_resume\",\n    value: function _resume() {\n      if (Globals.skipAnimation) {\n        this.finish();\n      } else {\n        frameLoop.start(this);\n      }\n    }\n  }, {\n    key: \"_stop\",\n    value: function _stop(goal, cancel) {\n      if (isAnimating(this)) {\n        setActiveBit(this, false);\n        var anim = this.animation;\n        each(anim.values, function (node) {\n          node.done = true;\n        });\n\n        if (anim.toValues) {\n          anim.onChange = anim.onPause = anim.onResume = void 0;\n        }\n\n        callFluidObservers(this, {\n          type: \"idle\",\n          parent: this\n        });\n        var result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal != null ? goal : anim.to));\n        flushCalls(this._pendingCalls, result);\n\n        if (anim.changed) {\n          anim.changed = false;\n          sendEvent(this, \"onRest\", result, this);\n        }\n      }\n    }\n  }]);\n\n  return SpringValue;\n}(FrameValue);\n\nfunction checkFinished(target, to) {\n  var goal = computeGoal(to);\n  var value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\n\nfunction createLoopUpdate(props) {\n  var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.loop;\n  var to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : props.to;\n  var loopRet = callProp(loop);\n\n  if (loopRet) {\n    var overrides = loopRet !== true && inferTo(loopRet);\n    var reverse = (overrides || props).reverse;\n    var reset = !overrides || overrides.reset;\n    return createUpdate(_objectSpread(_objectSpread({}, props), {}, {\n      loop: loop,\n      default: false,\n      pause: void 0,\n      to: !reverse || isAsyncTo(to) ? to : void 0,\n      from: reset ? props.from : void 0,\n      reset: reset\n    }, overrides));\n  }\n}\n\nfunction createUpdate(props) {\n  var _props = props = inferTo(props),\n      to = _props.to,\n      from = _props.from;\n\n  var keys = new Set();\n  if (is.obj(to)) findDefined(to, keys);\n  if (is.obj(from)) findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\n\nfunction declareUpdate(props) {\n  var update = createUpdate(props);\n\n  if (is.und(update.default)) {\n    update.default = getDefaultProps(update);\n  }\n\n  return update;\n}\n\nfunction findDefined(values, keys) {\n  eachProp(values, function (value, key) {\n    return value != null && keys.add(key);\n  });\n}\n\nvar ACTIVE_EVENTS = [\"onStart\", \"onRest\", \"onChange\", \"onPause\", \"onResume\"];\n\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : void 0;\n}\n\nfunction sendEvent(target, type) {\n  var _b2, _d2;\n\n  var _a, _b, _c, _d;\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n    args[_key4 - 2] = arguments[_key4];\n  }\n\n  (_b = (_a = target.animation)[type]) == null ? void 0 : (_b2 = _b).call.apply(_b2, [_a].concat(args));\n  (_d = (_c = target.defaultProps)[type]) == null ? void 0 : (_d2 = _d).call.apply(_d2, [_c].concat(args));\n}\n\nvar BATCHED_EVENTS = [\"onStart\", \"onChange\", \"onRest\"];\nvar nextId$1 = 1;\n\nvar Controller = /*#__PURE__*/function () {\n  function Controller(props, flush2) {\n    _classCallCheck(this, Controller);\n\n    this.id = nextId$1++;\n    this.springs = {};\n    this.queue = [];\n    this._lastAsyncId = 0;\n    this._active = new Set();\n    this._changed = new Set();\n    this._started = false;\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._events = {\n      onStart: new Map(),\n      onChange: new Map(),\n      onRest: new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n\n    if (flush2) {\n      this._flush = flush2;\n    }\n\n    if (props) {\n      this.start(_objectSpread({\n        default: true\n      }, props));\n    }\n  }\n\n  _createClass(Controller, [{\n    key: \"idle\",\n    get: function get() {\n      return !this._state.asyncTo && Object.values(this.springs).every(function (spring) {\n        return spring.idle;\n      });\n    }\n  }, {\n    key: \"item\",\n    get: function get() {\n      return this._item;\n    },\n    set: function set(item) {\n      this._item = item;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var values = {};\n      this.each(function (spring, key) {\n        return values[key] = spring.get();\n      });\n      return values;\n    }\n  }, {\n    key: \"set\",\n    value: function set(values) {\n      for (var key in values) {\n        var value = values[key];\n\n        if (!is.und(value)) {\n          this.springs[key].set(value);\n        }\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(props) {\n      if (props) {\n        this.queue.push(createUpdate(props));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"start\",\n    value: function start(props) {\n      var queue = this.queue;\n\n      if (props) {\n        queue = toArray(props).map(createUpdate);\n      } else {\n        this.queue = [];\n      }\n\n      if (this._flush) {\n        return this._flush(this, queue);\n      }\n\n      prepareKeys(this, queue);\n      return flushUpdateQueue(this, queue);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(arg, keys) {\n      if (arg !== !!arg) {\n        keys = arg;\n      }\n\n      if (keys) {\n        var springs = this.springs;\n        each(toArray(keys), function (key) {\n          return springs[key].stop(!!arg);\n        });\n      } else {\n        stopAsync(this._state, this._lastAsyncId);\n        this.each(function (spring) {\n          return spring.stop(!!arg);\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause(keys) {\n      if (is.und(keys)) {\n        this.start({\n          pause: true\n        });\n      } else {\n        var springs = this.springs;\n        each(toArray(keys), function (key) {\n          return springs[key].pause();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"resume\",\n    value: function resume(keys) {\n      if (is.und(keys)) {\n        this.start({\n          pause: false\n        });\n      } else {\n        var springs = this.springs;\n        each(toArray(keys), function (key) {\n          return springs[key].resume();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"each\",\n    value: function each(iterator) {\n      eachProp(this.springs, iterator);\n    }\n  }, {\n    key: \"_onFrame\",\n    value: function _onFrame() {\n      var _this11 = this;\n\n      var _this$_events = this._events,\n          onStart = _this$_events.onStart,\n          onChange = _this$_events.onChange,\n          onRest = _this$_events.onRest;\n      var active = this._active.size > 0;\n      var changed = this._changed.size > 0;\n\n      if (active && !this._started || changed && !this._started) {\n        this._started = true;\n        flush(onStart, function (_ref8) {\n          var _ref9 = _slicedToArray(_ref8, 2),\n              onStart2 = _ref9[0],\n              result = _ref9[1];\n\n          result.value = _this11.get();\n          onStart2(result, _this11, _this11._item);\n        });\n      }\n\n      var idle = !active && this._started;\n      var values = changed || idle && onRest.size ? this.get() : null;\n\n      if (changed && onChange.size) {\n        flush(onChange, function (_ref10) {\n          var _ref11 = _slicedToArray(_ref10, 2),\n              onChange2 = _ref11[0],\n              result = _ref11[1];\n\n          result.value = values;\n          onChange2(result, _this11, _this11._item);\n        });\n      }\n\n      if (idle) {\n        this._started = false;\n        flush(onRest, function (_ref12) {\n          var _ref13 = _slicedToArray(_ref12, 2),\n              onRest2 = _ref13[0],\n              result = _ref13[1];\n\n          result.value = values;\n          onRest2(result, _this11, _this11._item);\n        });\n      }\n    }\n  }, {\n    key: \"eventObserved\",\n    value: function eventObserved(event) {\n      if (event.type == \"change\") {\n        this._changed.add(event.parent);\n\n        if (!event.idle) {\n          this._active.add(event.parent);\n        }\n      } else if (event.type == \"idle\") {\n        this._active.delete(event.parent);\n      } else return;\n\n      raf.onFrame(this._onFrame);\n    }\n  }]);\n\n  return Controller;\n}();\n\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map(function (props) {\n    return flushUpdate(ctrl, props);\n  })).then(function (results) {\n    return getCombinedResult(ctrl, results);\n  });\n}\n\nfunction flushUpdate(_x2, _x3, _x4) {\n  return _flushUpdate.apply(this, arguments);\n}\n\nfunction _flushUpdate() {\n  _flushUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ctrl, props, isLoop) {\n    var keys, to, from, loop, onRest, onResolve, defaults, asyncTo, state, promises, cancel, result, nextProps;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            keys = props.keys, to = props.to, from = props.from, loop = props.loop, onRest = props.onRest, onResolve = props.onResolve;\n            defaults = is.obj(props.default) && props.default;\n\n            if (loop) {\n              props.loop = false;\n            }\n\n            if (to === false) props.to = null;\n            if (from === false) props.from = null;\n            asyncTo = is.arr(to) || is.fun(to) ? to : void 0;\n\n            if (asyncTo) {\n              props.to = void 0;\n              props.onRest = void 0;\n\n              if (defaults) {\n                defaults.onRest = void 0;\n              }\n            } else {\n              each(BATCHED_EVENTS, function (key) {\n                var handler = props[key];\n\n                if (is.fun(handler)) {\n                  var queue = ctrl[\"_events\"][key];\n\n                  props[key] = function (_ref22) {\n                    var finished = _ref22.finished,\n                        cancelled = _ref22.cancelled;\n                    var result2 = queue.get(handler);\n\n                    if (result2) {\n                      if (!finished) result2.finished = false;\n                      if (cancelled) result2.cancelled = true;\n                    } else {\n                      queue.set(handler, {\n                        value: null,\n                        finished: finished || false,\n                        cancelled: cancelled || false\n                      });\n                    }\n                  };\n\n                  if (defaults) {\n                    defaults[key] = props[key];\n                  }\n                }\n              });\n            }\n\n            state = ctrl[\"_state\"];\n\n            if (props.pause === !state.paused) {\n              state.paused = props.pause;\n              flushCalls(props.pause ? state.pauseQueue : state.resumeQueue);\n            } else if (state.paused) {\n              props.pause = true;\n            }\n\n            promises = (keys || Object.keys(ctrl.springs)).map(function (key) {\n              return ctrl.springs[key].start(props);\n            });\n            cancel = props.cancel === true || getDefaultProp(props, \"cancel\") === true;\n\n            if (asyncTo || cancel && state.asyncId) {\n              promises.push(scheduleProps(++ctrl[\"_lastAsyncId\"], {\n                props: props,\n                state: state,\n                actions: {\n                  pause: noop,\n                  resume: noop,\n                  start: function start(props2, resolve) {\n                    if (cancel) {\n                      stopAsync(state, ctrl[\"_lastAsyncId\"]);\n                      resolve(getCancelledResult(ctrl));\n                    } else {\n                      props2.onRest = onRest;\n                      resolve(runAsync(asyncTo, props2, state, ctrl));\n                    }\n                  }\n                }\n              }));\n            }\n\n            if (!state.paused) {\n              _context4.next = 15;\n              break;\n            }\n\n            _context4.next = 15;\n            return new Promise(function (resume) {\n              state.resumeQueue.add(resume);\n            });\n\n          case 15:\n            _context4.t0 = getCombinedResult;\n            _context4.t1 = ctrl;\n            _context4.next = 19;\n            return Promise.all(promises);\n\n          case 19:\n            _context4.t2 = _context4.sent;\n            result = (0, _context4.t0)(_context4.t1, _context4.t2);\n\n            if (!(loop && result.finished && !(isLoop && result.noop))) {\n              _context4.next = 26;\n              break;\n            }\n\n            nextProps = createLoopUpdate(props, loop, to);\n\n            if (!nextProps) {\n              _context4.next = 26;\n              break;\n            }\n\n            prepareKeys(ctrl, [nextProps]);\n            return _context4.abrupt(\"return\", flushUpdate(ctrl, nextProps, true));\n\n          case 26:\n            if (onResolve) {\n              raf.batchedUpdates(function () {\n                return onResolve(result, ctrl, ctrl.item);\n              });\n            }\n\n            return _context4.abrupt(\"return\", result);\n\n          case 28:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _flushUpdate.apply(this, arguments);\n}\n\nfunction getSprings(ctrl, props) {\n  var springs = _objectSpread({}, ctrl.springs);\n\n  if (props) {\n    each(toArray(props), function (props2) {\n      if (is.und(props2.keys)) {\n        props2 = createUpdate(props2);\n      }\n\n      if (!is.obj(props2.to)) {\n        props2 = _objectSpread(_objectSpread({}, props2), {}, {\n          to: void 0\n        });\n      }\n\n      prepareSprings(springs, props2, function (key) {\n        return createSpring(key);\n      });\n    });\n  }\n\n  return springs;\n}\n\nfunction setSprings(ctrl, springs) {\n  eachProp(springs, function (spring, key) {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver(spring, ctrl);\n    }\n  });\n}\n\nfunction createSpring(key, observer) {\n  var spring = new SpringValue();\n  spring.key = key;\n\n  if (observer) {\n    addFluidObserver(spring, observer);\n  }\n\n  return spring;\n}\n\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each(props.keys, function (key) {\n      var spring = springs[key] || (springs[key] = create(key));\n      spring[\"_prepareNode\"](props);\n    });\n  }\n}\n\nfunction prepareKeys(ctrl, queue) {\n  each(queue, function (props) {\n    prepareSprings(ctrl.springs, props, function (key) {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\nvar SpringContext = function SpringContext(_ref14) {\n  var children = _ref14.children,\n      props = _objectWithoutProperties(_ref14, [\"children\"]);\n\n  var inherited = useContext(ctx);\n  var pause = props.pause || !!inherited.pause,\n      immediate = props.immediate || !!inherited.immediate;\n  props = useMemoOne(function () {\n    return {\n      pause: pause,\n      immediate: immediate\n    };\n  }, [pause, immediate]);\n  var Provider = ctx.Provider;\n  return /* @__PURE__ */createElement(Provider, {\n    value: props\n  }, children);\n};\n\nvar ctx = makeContext(SpringContext, {});\nSpringContext.Provider = ctx.Provider;\nSpringContext.Consumer = ctx.Consumer;\n\nfunction makeContext(target, init) {\n  Object.assign(target, createContext(init));\n  target.Provider._context = target;\n  target.Consumer._context = target;\n  return target;\n}\n\nvar SpringRef = /*#__PURE__*/function (_Function) {\n  _inherits(SpringRef, _Function);\n\n  var _super5 = _createSuper(SpringRef);\n\n  function SpringRef() {\n    var _this12;\n\n    _classCallCheck(this, SpringRef);\n\n    _this12 = _super5.call(this, \"return arguments.callee._call.apply(arguments.callee, arguments)\");\n    _this12.current = [];\n    return _this12;\n  }\n\n  _createClass(SpringRef, [{\n    key: \"_call\",\n    value: function _call(props) {\n      deprecateDirectCall();\n      this.start(props);\n    }\n  }, {\n    key: \"set\",\n    value: function set(values) {\n      each(this.current, function (ctrl) {\n        return ctrl.set(values);\n      });\n    }\n  }, {\n    key: \"start\",\n    value: function start(props) {\n      var _this13 = this;\n\n      var results = [];\n      each(this.current, function (ctrl, i) {\n        if (is.und(props)) {\n          results.push(ctrl.start());\n        } else {\n          var _update2 = _this13._getProps(props, ctrl, i);\n\n          if (_update2) {\n            results.push(ctrl.start(_update2));\n          }\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"update\",\n    value: function update(props) {\n      var _this14 = this;\n\n      each(this.current, function (ctrl, i) {\n        return ctrl.update(_this14._getProps(props, ctrl, i));\n      });\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(ctrl) {\n      if (!this.current.includes(ctrl)) {\n        this.current.push(ctrl);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(ctrl) {\n      var i = this.current.indexOf(ctrl);\n      if (~i) this.current.splice(i, 1);\n    }\n  }, {\n    key: \"_getProps\",\n    value: function _getProps(arg, ctrl, index) {\n      return is.fun(arg) ? arg(index, ctrl) : arg;\n    }\n  }]);\n\n  return SpringRef;\n}( /*#__PURE__*/_wrapNativeSuper(Function));\n\neach([\"stop\", \"pause\", \"resume\"], function (key) {\n  SpringRef.prototype[key] = function () {\n    var _arguments = arguments;\n    each(this.current, function (ctrl) {\n      return ctrl[key].apply(ctrl, _toConsumableArray(_arguments));\n    });\n    return this;\n  };\n});\n\nfunction useSprings(length, props, deps) {\n  var _arguments2 = arguments;\n  var propsFn = is.fun(props) && props;\n  if (propsFn && !deps) deps = [];\n  var ref = useMemo(function () {\n    return propsFn || _arguments2.length == 3 ? new SpringRef() : void 0;\n  }, []);\n  var layoutId = useRef(0);\n  var forceUpdate = useForceUpdate();\n  var state = useMemo(function () {\n    return {\n      ctrls: [],\n      queue: [],\n      flush: function flush(ctrl, updates2) {\n        var springs2 = getSprings(ctrl, updates2);\n        var canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs2).some(function (key) {\n          return !ctrl.springs[key];\n        });\n        return canFlushSync ? flushUpdateQueue(ctrl, updates2) : new Promise(function (resolve) {\n          setSprings(ctrl, springs2);\n          state.queue.push(function () {\n            resolve(flushUpdateQueue(ctrl, updates2));\n          });\n          forceUpdate();\n        });\n      }\n    };\n  }, []);\n\n  var ctrls = _toConsumableArray(state.ctrls);\n\n  var updates = [];\n  var prevLength = usePrev(length) || 0;\n  var oldCtrls = ctrls.slice(length, prevLength);\n  useMemo(function () {\n    ctrls.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo(function () {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n\n  function declareUpdates(startIndex, endIndex) {\n    for (var i = startIndex; i < endIndex; i++) {\n      var ctrl = ctrls[i] || (ctrls[i] = new Controller(null, state.flush));\n\n      var _update3 = propsFn ? propsFn(i, ctrl) : props[i];\n\n      if (_update3) {\n        updates[i] = declareUpdate(_update3);\n      }\n    }\n  }\n\n  var springs = ctrls.map(function (ctrl, i) {\n    return getSprings(ctrl, updates[i]);\n  });\n  var context = useContext(SpringContext);\n  var prevContext = usePrev(context);\n  var hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(function () {\n    layoutId.current++;\n    state.ctrls = ctrls;\n    var queue = state.queue;\n\n    if (queue.length) {\n      state.queue = [];\n      each(queue, function (cb) {\n        return cb();\n      });\n    }\n\n    each(oldCtrls, function (ctrl) {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    each(ctrls, function (ctrl, i) {\n      var values2 = springs[i];\n      setSprings(ctrl, values2);\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      var update = updates[i];\n\n      if (update) {\n        replaceRef(ctrl, update.ref);\n\n        if (ctrl.ref) {\n          ctrl.queue.push(update);\n        } else {\n          ctrl.start(update);\n        }\n      }\n    });\n  });\n  useOnce(function () {\n    return function () {\n      each(state.ctrls, function (ctrl) {\n        return ctrl.stop(true);\n      });\n    };\n  });\n  var values = springs.map(function (x) {\n    return _objectSpread({}, x);\n  });\n  return ref ? [values, ref] : values;\n}\n\nfunction useSpring(props, deps) {\n  var isFn = is.fun(props);\n\n  var _useSprings = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps),\n      _useSprings2 = _slicedToArray(_useSprings, 2),\n      _useSprings2$ = _slicedToArray(_useSprings2[0], 1),\n      values = _useSprings2$[0],\n      ref = _useSprings2[1];\n\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\nvar initSpringRef = function initSpringRef() {\n  return new SpringRef();\n};\n\nvar useSpringRef = function useSpringRef() {\n  return useState(initSpringRef)[0];\n};\n\nfunction useTrail(length, propsArg, deps) {\n  var propsFn = is.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  var reverse = true;\n  var result = useSprings(length, function (i, ctrl) {\n    var props = propsFn ? propsFn(i, ctrl) : propsArg;\n    reverse = reverse && props.reverse;\n    return props;\n  }, deps || [{}]);\n  var ref = result[1];\n  useLayoutEffect(function () {\n    each(ref.current, function (ctrl, i) {\n      var parent = ref.current[i + (reverse ? 1 : -1)];\n      if (parent) ctrl.start({\n        to: parent.springs\n      });\n    });\n  }, deps);\n\n  if (propsFn || arguments.length == 3) {\n    ref[\"_getProps\"] = function (propsArg2, ctrl, i) {\n      var props = is.fun(propsArg2) ? propsArg2(i, ctrl) : propsArg2;\n\n      if (props) {\n        var parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      }\n    };\n\n    return result;\n  }\n\n  return result[0];\n}\n\nvar MOUNT = \"mount\";\nvar ENTER = \"enter\";\nvar UPDATE = \"update\";\nvar LEAVE = \"leave\";\n\nfunction useTransition(data, props, deps) {\n  var _arguments3 = arguments;\n  var reset = props.reset,\n      sort = props.sort,\n      _props$trail = props.trail,\n      trail = _props$trail === void 0 ? 0 : _props$trail,\n      _props$expires = props.expires,\n      expires = _props$expires === void 0 ? true : _props$expires,\n      onDestroyed = props.onDestroyed;\n  var ref = useMemo(function () {\n    return _arguments3.length == 3 ? new SpringRef() : void 0;\n  }, []);\n  var items = toArray(data);\n  var transitions = [];\n  var usedTransitions = useRef(null);\n  var prevTransitions = reset ? null : usedTransitions.current;\n  useLayoutEffect(function () {\n    usedTransitions.current = transitions;\n  });\n  useOnce(function () {\n    return function () {\n      return each(usedTransitions.current, function (t) {\n        if (t.expired) {\n          clearTimeout(t.expirationId);\n        }\n\n        detachRefs(t.ctrl, ref);\n        t.ctrl.stop(true);\n      });\n    };\n  });\n  var keys = getKeys(items, props, prevTransitions);\n  var expired = reset && usedTransitions.current || [];\n  useLayoutEffect(function () {\n    return each(expired, function (_ref15) {\n      var ctrl = _ref15.ctrl,\n          item = _ref15.item,\n          key = _ref15.key;\n      detachRefs(ctrl, ref);\n      callProp(onDestroyed, item, key);\n    });\n  });\n  var reused = [];\n  if (prevTransitions) each(prevTransitions, function (t, i) {\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n      expired.push(t);\n    } else {\n      i = reused[i] = keys.indexOf(t.key);\n      if (~i) transitions[i] = t;\n    }\n  });\n  each(items, function (item, i) {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item: item,\n        phase: MOUNT,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n\n  if (reused.length) {\n    var i = -1;\n    each(reused, function (keyIndex, prevIndex) {\n      var t = prevTransitions[prevIndex];\n\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = _objectSpread(_objectSpread({}, t), {}, {\n          item: items[keyIndex]\n        });\n      } else if (props.leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n\n  if (is.fun(sort)) {\n    transitions.sort(function (a, b) {\n      return sort(a.item, b.item);\n    });\n  }\n\n  var delay = -trail;\n  var forceUpdate = useForceUpdate();\n  var defaultProps = getDefaultProps(props);\n  var changes = new Map();\n  each(transitions, function (t, i) {\n    var key = t.key;\n    var prevPhase = t.phase;\n    var to;\n    var phase;\n\n    if (prevPhase == MOUNT) {\n      to = props.enter;\n      phase = ENTER;\n    } else {\n      var isLeave = keys.indexOf(key) < 0;\n\n      if (prevPhase != LEAVE) {\n        if (isLeave) {\n          to = props.leave;\n          phase = LEAVE;\n        } else if (to = props.update) {\n          phase = UPDATE;\n        } else return;\n      } else if (!isLeave) {\n        to = props.enter;\n        phase = ENTER;\n      } else return;\n    }\n\n    to = callProp(to, t.item, i);\n    to = is.obj(to) ? inferTo(to) : {\n      to: to\n    };\n\n    if (!to.config) {\n      var _config2 = props.config || defaultProps.config;\n\n      to.config = callProp(_config2, t.item, i, phase);\n    }\n\n    var payload = _objectSpread(_objectSpread({}, defaultProps), {}, {\n      delay: delay += trail,\n      reset: false\n    }, to);\n\n    if (phase == ENTER && is.und(payload.from)) {\n      var from = is.und(props.initial) || prevTransitions ? props.from : props.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n\n    var onResolve = payload.onResolve;\n\n    payload.onResolve = function (result) {\n      callProp(onResolve, result);\n      var transitions2 = usedTransitions.current;\n      var t2 = transitions2.find(function (t3) {\n        return t3.key === key;\n      });\n      if (!t2) return;\n\n      if (result.cancelled && t2.phase != UPDATE) {\n        return;\n      }\n\n      if (t2.ctrl.idle) {\n        var idle = transitions2.every(function (t3) {\n          return t3.ctrl.idle;\n        });\n\n        if (t2.phase == LEAVE) {\n          var expiry = callProp(expires, t2.item);\n\n          if (expiry !== false) {\n            var expiryMs = expiry === true ? 0 : expiry;\n            t2.expired = true;\n\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 2147483647) t2.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n\n        if (idle && transitions2.some(function (t3) {\n          return t3.expired;\n        })) {\n          forceUpdate();\n        }\n      }\n    };\n\n    var springs = getSprings(t.ctrl, payload);\n    changes.set(t, {\n      phase: phase,\n      springs: springs,\n      payload: payload\n    });\n  });\n  var context = useContext(SpringContext);\n  var prevContext = usePrev(context);\n  var hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(function () {\n    if (hasContext) each(transitions, function (t) {\n      t.ctrl.start({\n        default: context\n      });\n    });\n  }, [context]);\n  useLayoutEffect(function () {\n    each(changes, function (_ref16, t) {\n      var phase = _ref16.phase,\n          springs = _ref16.springs,\n          payload = _ref16.payload;\n      var ctrl = t.ctrl;\n      t.phase = phase;\n      ref == null ? void 0 : ref.add(ctrl);\n      replaceRef(ctrl, payload.ref);\n      setSprings(ctrl, springs);\n\n      if (hasContext && phase == ENTER) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      ctrl[ctrl.ref ? \"update\" : \"start\"](payload);\n    });\n  }, reset ? void 0 : deps);\n\n  var renderTransitions = function renderTransitions(render) {\n    return /* @__PURE__ */createElement(Fragment, null, transitions.map(function (t, i) {\n      var _ref17 = changes.get(t) || t.ctrl,\n          springs = _ref17.springs;\n\n      var elem = render(_objectSpread({}, springs), t.item, t, i);\n      return elem && elem.type ? /* @__PURE__ */createElement(elem.type, _objectSpread(_objectSpread({}, elem.props), {}, {\n        key: is.str(t.key) || is.num(t.key) ? t.key : t.ctrl.id,\n        ref: elem.ref\n      })) : elem;\n    }));\n  };\n\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\n\nvar nextKey = 1;\n\nfunction getKeys(items, _ref18, prevTransitions) {\n  var key = _ref18.key,\n      _ref18$keys = _ref18.keys,\n      keys = _ref18$keys === void 0 ? key : _ref18$keys;\n\n  if (keys === null) {\n    var reused = new Set();\n    return items.map(function (item) {\n      var t = prevTransitions && prevTransitions.find(function (t2) {\n        return t2.item === item && t2.phase !== LEAVE && !reused.has(t2);\n      });\n\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n\n      return nextKey++;\n    });\n  }\n\n  return is.und(keys) ? items : is.fun(keys) ? items.map(keys) : toArray(keys);\n}\n\nfunction Spring(_ref19) {\n  var children = _ref19.children,\n      props = _objectWithoutProperties(_ref19, [\"children\"]);\n\n  return children(useSpring(props));\n}\n\nfunction Trail(_ref20) {\n  var items = _ref20.items,\n      children = _ref20.children,\n      props = _objectWithoutProperties(_ref20, [\"items\", \"children\"]);\n\n  var trails = useTrail(items.length, props);\n  return items.map(function (item, index) {\n    var result = children(item, index);\n    return is.fun(result) ? result(trails[index]) : result;\n  });\n}\n\nfunction Transition(_ref21) {\n  var items = _ref21.items,\n      children = _ref21.children,\n      props = _objectWithoutProperties(_ref21, [\"items\", \"children\"]);\n\n  return useTransition(items, props)(children);\n}\n\nvar Interpolation = /*#__PURE__*/function (_FrameValue2) {\n  _inherits(Interpolation, _FrameValue2);\n\n  var _super6 = _createSuper(Interpolation);\n\n  function Interpolation(source, args) {\n    var _this15;\n\n    _classCallCheck(this, Interpolation);\n\n    _this15 = _super6.call(this);\n    _this15.source = source;\n    _this15.idle = true;\n    _this15._active = new Set();\n    _this15.calc = createInterpolator.apply(void 0, _toConsumableArray(args));\n\n    var value = _this15._get();\n\n    var nodeType = getAnimatedType(value);\n    setAnimated(_assertThisInitialized(_this15), nodeType.create(value));\n    return _this15;\n  }\n\n  _createClass(Interpolation, [{\n    key: \"advance\",\n    value: function advance(_dt) {\n      var value = this._get();\n\n      var oldValue = this.get();\n\n      if (!isEqual(value, oldValue)) {\n        getAnimated(this).setValue(value);\n\n        this._onChange(value, this.idle);\n      }\n\n      if (!this.idle && checkIdle(this._active)) {\n        becomeIdle(this);\n      }\n    }\n  }, {\n    key: \"_get\",\n    value: function _get() {\n      var inputs = is.arr(this.source) ? this.source.map(getFluidValue) : toArray(getFluidValue(this.source));\n      return this.calc.apply(this, _toConsumableArray(inputs));\n    }\n  }, {\n    key: \"_start\",\n    value: function _start() {\n      var _this16 = this;\n\n      if (this.idle && !checkIdle(this._active)) {\n        this.idle = false;\n        each(getPayload(this), function (node) {\n          node.done = false;\n        });\n\n        if (Globals.skipAnimation) {\n          raf.batchedUpdates(function () {\n            return _this16.advance();\n          });\n          becomeIdle(this);\n        } else {\n          frameLoop.start(this);\n        }\n      }\n    }\n  }, {\n    key: \"_attach\",\n    value: function _attach() {\n      var _this17 = this;\n\n      var priority = 1;\n      each(toArray(this.source), function (source) {\n        if (hasFluidValue(source)) {\n          addFluidObserver(source, _this17);\n        }\n\n        if (isFrameValue(source)) {\n          if (!source.idle) {\n            _this17._active.add(source);\n          }\n\n          priority = Math.max(priority, source.priority + 1);\n        }\n      });\n      this.priority = priority;\n\n      this._start();\n    }\n  }, {\n    key: \"_detach\",\n    value: function _detach() {\n      var _this18 = this;\n\n      each(toArray(this.source), function (source) {\n        if (hasFluidValue(source)) {\n          removeFluidObserver(source, _this18);\n        }\n      });\n\n      this._active.clear();\n\n      becomeIdle(this);\n    }\n  }, {\n    key: \"eventObserved\",\n    value: function eventObserved(event) {\n      if (event.type == \"change\") {\n        if (event.idle) {\n          this.advance();\n        } else {\n          this._active.add(event.parent);\n\n          this._start();\n        }\n      } else if (event.type == \"idle\") {\n        this._active.delete(event.parent);\n      } else if (event.type == \"priority\") {\n        this.priority = toArray(this.source).reduce(function (highest, parent) {\n          return Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1);\n        }, 0);\n      }\n    }\n  }]);\n\n  return Interpolation;\n}(FrameValue);\n\nfunction isIdle(source) {\n  return source.idle !== false;\n}\n\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\n\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each(getPayload(self), function (node) {\n      node.done = true;\n    });\n    callFluidObservers(self, {\n      type: \"idle\",\n      parent: self\n    });\n  }\n}\n\nvar to = function to(source) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  return new Interpolation(source, args);\n};\n\nvar interpolate = function interpolate(source) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n    args[_key6 - 1] = arguments[_key6];\n  }\n\n  return deprecateInterpolate(), new Interpolation(source, args);\n};\n\nGlobals.assign({\n  createStringInterpolator: createStringInterpolator,\n  to: function to(source, args) {\n    return new Interpolation(source, args);\n  }\n});\nvar update = frameLoop.advance;\nexport { BailSignal, Controller, FrameValue, Interpolation, Spring, SpringContext, SpringRef, SpringValue, Trail, Transition, config, inferTo, interpolate, to, update, useChain, useSpring, useSpringRef, useSprings, useTrail, useTransition };","map":{"version":3,"mappings":"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","names":["value","args","is","fun","key","toArray","includes","obj","prop","props","default","noopTransform","transform","DEFAULT_PROPS","keys","Object","und","defaults","config","from","to","ref","loop","reset","pause","cancel","reverse","immediate","delay","onProps","onStart","onChange","onPause","onResume","onRest","onResolve","items","trail","sort","expires","initial","enter","update","leave","children","onDestroyed","callId","parentId","eachProp","RESERVED_PROPS","forward","count","getForwardProps","out","val","getFluidValue","arr","map","computeGoal","isAnimatedString","G","createStringInterpolator","range","output","delete","ctrl","add","refs","timeFrame","useLayoutEffect","timeSteps","each","current","controllers","length","i","isNaN","prevDelay","queue","callProp","memoizedDelayProp","start","Promise","resolve","q","p","then","queues","push","tension","friction","gentle","wobbly","stiff","slow","molasses","linear","t","configs","mass","damping","easing","clamp","assign","defaultConfig","sanitizeConfig","newConfig","frequency","Math","pow","PI","decay","duration","isTensionConfig","emptyArray","AnimationConfig2","defaultProps","state","matchProp","paused","resumeQueue","actions","resume","timeouts","timeout","time","raf","now","setTimeout","pauseQueue","cancelId","reject","err","getCombinedResult","results","some","result","cancelled","getCancelledResult","target","get","every","noop","getNoopResult","getFinishedResult","finished","prevTo","asyncTo","prevPromise","promise","asyncId","getDefaultProps","bailPromise","bail","bailIfEnded","bailResult","bailSignal","animate","BailSignal","SkipAniamtionSignal","skipAnimation","stopAsync","skipAnimationSignal","props2","arg1","arg2","result2","animating","stop","bind","all","preventBail","batchedUpdates","item","flush","clear","Error","isFrameValue","FrameValue","nextId","_priority","priority","_onPriorityChange","getAnimated","node","getValue","deprecateInterpolate","_attach","_detach","idle","callFluidObservers","type","parent","frameLoop","FluidValue","$P","Symbol","for","HAS_ANIMATED","IS_ANIMATING","IS_PAUSED","active","Animation2","Set","_state","isPaused","animation","AnimatedValue","lastVelocity","getPayload","node2","hasAnimated","isAnimating","anim","toValues","payload","hasFluidValue","values","forEach","done","constructor","AnimatedString","lastPosition","position","elapsedTime","dt","fromValues","v0","velocity","_memoizedDuration","durationProgress","elapsed","progress","exp","e","abs","precision","min","restVelocity","bounce","bounceFactor","ceil","step","n","numSteps","isMoving","canBounce","isBouncing","isGrowing","dampingForce","acceleration","Number","console","warn","setValue","round","changed","_onChange","_stop","_focus","_set","_update","_onStart","_lastCallId","event","_start","isAsyncTo","test","resolveProp","mergeActiveFn","sendEvent","_prepareNode","isFrozen","scheduleProps2","setPausedBit","flushCalls","checkFinished","_resume","_merge","createLoopUpdate","nextProps","hasToProp","hasFromProp","_lastToId","prevFrom","isEqual","hasFromChanged","hasToChanged","hasAsyncTo","mergeConfig","num","goal","isAnimatable","getAnimatedType","nodeType","name","started","hasValueChanged","goalType","ACTIVE_EVENTS","_pendingCalls","runAsync2","getFluidObservers","addFluidObserver","removeFluidObserver","arg","oldNode","setAnimated","create","setActiveBit","finish","FrameValue2","loopRet","inferTo","overrides","createUpdate","findDefined","size","Array","getDefaultProp","BATCHED_EVENTS","Map","_onFrame","flush2","_flush","springs","spring","_item","set","prepareKeys","flushUpdateQueue","_lastAsyncId","iterator","_events","_active","_changed","_started","onStart2","onChange2","onRest2","onFrame","flushUpdate","handler","promises","prepareSprings","createSpring","SpringValue2","observer","SpringContext","useContext","ctx","inherited","useMemoOne","Provider","makeContext","Consumer","React.createContext","init","_context","deprecateDirectCall","_getProps","indexOf","splice","index","Function","SpringRef","prototype","arguments","propsFn","deps","useMemo","SpringRef2","useRef","useForceUpdate","ctrls","updates2","getSprings","layoutId","springs2","canFlushSync","setSprings","forceUpdate","usePrev","slice","prevLength","declareUpdates","startIndex","endIndex","Controller2","updates","declareUpdate","SpringContext2","context","prevContext","hasProps","cb","oldCtrls","detachRefs","values2","hasContext","replaceRef","useOnce","x","useSprings2","isFn","initSpringRef","useState","propsArg","propsArg2","MOUNT","data","usedTransitions","transitions","expired","clearTimeout","expirationId","getKeys","prevTransitions","reused","phase","prevIndex","keyIndex","a","b","prevPhase","ENTER","LEAVE","isLeave","UPDATE","transitions2","find","t3","t2","expiry","expiryMs","changes","renderTransitions","render","elem","str","id","has","nextKey","useSpring2","useTrail2","trails","useTransition","source","calc","createInterpolator","_get","oldValue","checkIdle","becomeIdle","inputs","advance","max","reduce","highest","isIdle","self","Interpolation2","Globals"],"sources":["src/helpers.ts","src/hooks/useChain.ts","src/constants.ts","src/AnimationConfig.ts","src/Animation.ts","src/scheduleProps.ts","src/AnimationResult.ts","src/runAsync.ts","src/FrameValue.ts","src/SpringPhase.ts","src/SpringValue.ts","src/Controller.ts","src/SpringContext.tsx","src/SpringRef.ts","src/hooks/useSprings.ts","src/hooks/useSpring.ts","src/hooks/useSpringRef.ts","src/hooks/useTrail.ts","src/TransitionPhase.ts","src/hooks/useTransition.tsx","src/components/Spring.tsx","src/components/Trail.tsx","src/components/Transition.tsx","src/Interpolation.ts","src/interpolate.ts","src/globals.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"metadata":{},"sourceType":"module"}