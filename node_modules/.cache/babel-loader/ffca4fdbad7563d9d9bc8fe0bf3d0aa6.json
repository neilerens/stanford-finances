{"ast":null,"code":"import React, { PureComponent, useState, useCallback, useMemo } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport { useTheme } from '@nivo/core';\nimport PropTypes from 'prop-types';\nimport isNumber from 'lodash/isNumber';\nimport isPlainObject from 'lodash/isPlainObject';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar DIRECTION_ROW = 'row';\nvar DIRECTION_COLUMN = 'column';\nvar ANCHOR_TOP = 'top';\nvar ANCHOR_TOP_RIGHT = 'top-right';\nvar ANCHOR_RIGHT = 'right';\nvar ANCHOR_BOTTOM_RIGHT = 'bottom-right';\nvar ANCHOR_BOTTOM = 'bottom';\nvar ANCHOR_BOTTOM_LEFT = 'bottom-left';\nvar ANCHOR_LEFT = 'left';\nvar ANCHOR_TOP_LEFT = 'top-left';\nvar ANCHOR_CENTER = 'center';\nvar DIRECTION_LEFT_TO_RIGHT = 'left-to-right';\nvar DIRECTION_RIGHT_TO_LEFT = 'right-to-left';\nvar DIRECTION_TOP_TO_BOTTOM = 'top-to-bottom';\nvar DIRECTION_BOTTOM_TO_TOP = 'bottom-to-top';\nvar legendEffectPropType = PropTypes.shape({\n  on: PropTypes.oneOfType([PropTypes.oneOf(['hover'])]).isRequired,\n  style: PropTypes.shape({\n    itemTextColor: PropTypes.string,\n    itemBackground: PropTypes.string,\n    itemOpacity: PropTypes.number,\n    symbolSize: PropTypes.number,\n    symbolBorderWidth: PropTypes.number,\n    symbolBorderColor: PropTypes.string\n  }).isRequired\n});\nvar symbolPropTypes = {\n  symbolShape: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  symbolSize: PropTypes.number,\n  symbolSpacing: PropTypes.number,\n  symbolBorderWidth: PropTypes.number,\n  symbolBorderColor: PropTypes.string\n};\nvar interactivityPropTypes = {\n  onClick: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func\n};\nvar datumPropType = PropTypes.shape({\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  color: PropTypes.string.isRequired,\n  fill: PropTypes.string\n});\n\nvar LegendPropShape = _objectSpread2(_objectSpread2(_objectSpread2({\n  data: PropTypes.arrayOf(datumPropType),\n  anchor: PropTypes.oneOf([ANCHOR_TOP, ANCHOR_TOP_RIGHT, ANCHOR_RIGHT, ANCHOR_BOTTOM_RIGHT, ANCHOR_BOTTOM, ANCHOR_BOTTOM_LEFT, ANCHOR_LEFT, ANCHOR_TOP_LEFT, ANCHOR_CENTER]).isRequired,\n  translateX: PropTypes.number,\n  translateY: PropTypes.number,\n  direction: PropTypes.oneOf([DIRECTION_ROW, DIRECTION_COLUMN]).isRequired,\n  itemsSpacing: PropTypes.number,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  itemDirection: PropTypes.oneOf([DIRECTION_LEFT_TO_RIGHT, DIRECTION_RIGHT_TO_LEFT, DIRECTION_TOP_TO_BOTTOM, DIRECTION_BOTTOM_TO_TOP]),\n  itemTextColor: PropTypes.string,\n  itemBackground: PropTypes.string,\n  itemOpacity: PropTypes.number\n}, symbolPropTypes), interactivityPropTypes), {}, {\n  effects: PropTypes.arrayOf(legendEffectPropType)\n});\n\nvar zeroPadding = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar computeDimensions = function computeDimensions(_ref) {\n  var direction = _ref.direction,\n      itemsSpacing = _ref.itemsSpacing,\n      _padding = _ref.padding,\n      itemCount = _ref.itemCount,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight;\n  var padding;\n\n  if (isNumber(_padding)) {\n    padding = {\n      top: _padding,\n      right: _padding,\n      bottom: _padding,\n      left: _padding\n    };\n  } else if (isPlainObject(_padding)) {\n    padding = _objectSpread2(_objectSpread2({}, zeroPadding), _padding);\n  } else {\n    throw new TypeError(\"Invalid property padding, must be one of: number, object\");\n  }\n\n  var horizontalPadding = padding.left + padding.right;\n  var verticalPadding = padding.top + padding.bottom;\n  var width = itemWidth + horizontalPadding;\n  var height = itemHeight + verticalPadding;\n  var spacing = (itemCount - 1) * itemsSpacing;\n\n  if (direction === DIRECTION_ROW) {\n    width = itemWidth * itemCount + spacing + horizontalPadding;\n  } else if (direction === DIRECTION_COLUMN) {\n    height = itemHeight * itemCount + spacing + verticalPadding;\n  }\n\n  return {\n    width: width,\n    height: height,\n    padding: padding\n  };\n};\n\nvar computePositionFromAnchor = function computePositionFromAnchor(_ref2) {\n  var anchor = _ref2.anchor,\n      translateX = _ref2.translateX,\n      translateY = _ref2.translateY,\n      containerWidth = _ref2.containerWidth,\n      containerHeight = _ref2.containerHeight,\n      width = _ref2.width,\n      height = _ref2.height;\n  var x = translateX;\n  var y = translateY;\n\n  switch (anchor) {\n    case ANCHOR_TOP:\n      x += (containerWidth - width) / 2;\n      break;\n\n    case ANCHOR_TOP_RIGHT:\n      x += containerWidth - width;\n      break;\n\n    case ANCHOR_RIGHT:\n      x += containerWidth - width;\n      y += (containerHeight - height) / 2;\n      break;\n\n    case ANCHOR_BOTTOM_RIGHT:\n      x += containerWidth - width;\n      y += containerHeight - height;\n      break;\n\n    case ANCHOR_BOTTOM:\n      x += (containerWidth - width) / 2;\n      y += containerHeight - height;\n      break;\n\n    case ANCHOR_BOTTOM_LEFT:\n      y += containerHeight - height;\n      break;\n\n    case ANCHOR_LEFT:\n      y += (containerHeight - height) / 2;\n      break;\n\n    case ANCHOR_CENTER:\n      x += (containerWidth - width) / 2;\n      y += (containerHeight - height) / 2;\n      break;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n};\n\nvar computeItemLayout = function computeItemLayout(_ref3) {\n  var direction = _ref3.direction,\n      justify = _ref3.justify,\n      symbolSize = _ref3.symbolSize,\n      symbolSpacing = _ref3.symbolSpacing,\n      width = _ref3.width,\n      height = _ref3.height;\n  var symbolX;\n  var symbolY;\n  var labelX;\n  var labelY;\n  var labelAnchor;\n  var labelAlignment;\n\n  switch (direction) {\n    case DIRECTION_LEFT_TO_RIGHT:\n      symbolX = 0;\n      symbolY = (height - symbolSize) / 2;\n      labelY = height / 2;\n      labelAlignment = 'central';\n\n      if (justify === true) {\n        labelX = width;\n        labelAnchor = 'end';\n      } else {\n        labelX = symbolSize + symbolSpacing;\n        labelAnchor = 'start';\n      }\n\n      break;\n\n    case DIRECTION_RIGHT_TO_LEFT:\n      symbolX = width - symbolSize;\n      symbolY = (height - symbolSize) / 2;\n      labelY = height / 2;\n      labelAlignment = 'central';\n\n      if (justify === true) {\n        labelX = 0;\n        labelAnchor = 'start';\n      } else {\n        labelX = width - symbolSize - symbolSpacing;\n        labelAnchor = 'end';\n      }\n\n      break;\n\n    case DIRECTION_TOP_TO_BOTTOM:\n      symbolX = (width - symbolSize) / 2;\n      symbolY = 0;\n      labelX = width / 2;\n      labelAnchor = 'middle';\n\n      if (justify === true) {\n        labelY = height;\n        labelAlignment = 'alphabetic';\n      } else {\n        labelY = symbolSize + symbolSpacing;\n        labelAlignment = 'text-before-edge';\n      }\n\n      break;\n\n    case DIRECTION_BOTTOM_TO_TOP:\n      symbolX = (width - symbolSize) / 2;\n      symbolY = height - symbolSize;\n      labelX = width / 2;\n      labelAnchor = 'middle';\n\n      if (justify === true) {\n        labelY = 0;\n        labelAlignment = 'text-before-edge';\n      } else {\n        labelY = height - symbolSize - symbolSpacing;\n        labelAlignment = 'alphabetic';\n      }\n\n      break;\n  }\n\n  return {\n    symbolX: symbolX,\n    symbolY: symbolY,\n    labelX: labelX,\n    labelY: labelY,\n    labelAnchor: labelAnchor,\n    labelAlignment: labelAlignment\n  };\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nvar symbolPropTypes$1 = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  fill: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired\n};\nvar symbolDefaultProps = {\n  borderWidth: 0,\n  borderColor: 'transparent'\n};\n\nvar SymbolCircle = function (_PureComponent) {\n  _inherits(SymbolCircle, _PureComponent);\n\n  var _super = _createSuper(SymbolCircle);\n\n  function SymbolCircle() {\n    _classCallCheck(this, SymbolCircle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolCircle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"circle\", {\n        r: size / 2,\n        cx: x + size / 2,\n        cy: y + size / 2,\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        style: {\n          pointerEvents: 'none'\n        }\n      });\n    }\n  }]);\n\n  return SymbolCircle;\n}(PureComponent);\n\nSymbolCircle.defaultProps = _objectSpread2({}, symbolDefaultProps);\n\nvar SymbolDiamond = function (_PureComponent) {\n  _inherits(SymbolDiamond, _PureComponent);\n\n  var _super = _createSuper(SymbolDiamond);\n\n  function SymbolDiamond() {\n    _classCallCheck(this, SymbolDiamond);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolDiamond, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"g\", {\n        transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n      }, React.createElement(\"path\", {\n        d: \"\\n                    M\".concat(size / 2, \" 0\\n                    L\").concat(size * 0.8, \" \").concat(size / 2, \"\\n                    L\").concat(size / 2, \" \").concat(size, \"\\n                    L\").concat(size * 0.2, \" \").concat(size / 2, \"\\n                    L\").concat(size / 2, \" 0\\n                \"),\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        style: {\n          pointerEvents: 'none'\n        }\n      }));\n    }\n  }]);\n\n  return SymbolDiamond;\n}(PureComponent);\n\nSymbolDiamond.defaultProps = _objectSpread2({}, symbolDefaultProps);\n\nvar SymbolSquare = function (_PureComponent) {\n  _inherits(SymbolSquare, _PureComponent);\n\n  var _super = _createSuper(SymbolSquare);\n\n  function SymbolSquare() {\n    _classCallCheck(this, SymbolSquare);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolSquare, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"rect\", {\n        x: x,\n        y: y,\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        width: size,\n        height: size,\n        style: {\n          pointerEvents: 'none'\n        }\n      });\n    }\n  }]);\n\n  return SymbolSquare;\n}(PureComponent);\n\nSymbolSquare.defaultProps = _objectSpread2({}, symbolDefaultProps);\n\nvar SymbolTriangle = function (_PureComponent) {\n  _inherits(SymbolTriangle, _PureComponent);\n\n  var _super = _createSuper(SymbolTriangle);\n\n  function SymbolTriangle() {\n    _classCallCheck(this, SymbolTriangle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SymbolTriangle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          size = _this$props.size,\n          fill = _this$props.fill,\n          borderWidth = _this$props.borderWidth,\n          borderColor = _this$props.borderColor;\n      return React.createElement(\"g\", {\n        transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n      }, React.createElement(\"path\", {\n        d: \"\\n                M\".concat(size / 2, \" 0\\n                L\").concat(size, \" \").concat(size, \"\\n                L0 \").concat(size, \"\\n                L\").concat(size / 2, \" 0\\n            \"),\n        fill: fill,\n        strokeWidth: borderWidth,\n        stroke: borderColor,\n        style: {\n          pointerEvents: 'none'\n        }\n      }));\n    }\n  }]);\n\n  return SymbolTriangle;\n}(PureComponent);\n\nSymbolTriangle.defaultProps = _objectSpread2({}, symbolDefaultProps);\nvar symbolByShape = {\n  circle: SymbolCircle,\n  diamond: SymbolDiamond,\n  square: SymbolSquare,\n  triangle: SymbolTriangle\n};\n\nvar LegendSvgItem = function LegendSvgItem(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      data = _ref.data,\n      direction = _ref.direction,\n      justify = _ref.justify,\n      textColor = _ref.textColor,\n      background = _ref.background,\n      opacity = _ref.opacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      effects = _ref.effects;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      style = _useState2[0],\n      setStyle = _useState2[1];\n\n  var theme = useTheme();\n  var handleClick = useCallback(function (event) {\n    return onClick && onClick(data, event);\n  }, [onClick, data]);\n  var handleMouseEnter = useCallback(function (event) {\n    if (effects.length > 0) {\n      var applyEffects = effects.filter(function (_ref2) {\n        var on = _ref2.on;\n        return on === 'hover';\n      });\n\n      var _style = applyEffects.reduce(function (acc, effect) {\n        return _objectSpread2(_objectSpread2({}, acc), effect.style);\n      }, {});\n\n      setStyle(_style);\n    }\n\n    if (onMouseEnter === undefined) return;\n    onMouseEnter(data, event);\n  }, [onMouseEnter, data, effects]);\n  var handleMouseLeave = useCallback(function (event) {\n    if (effects.length > 0) {\n      var applyEffects = effects.filter(function (_ref3) {\n        var on = _ref3.on;\n        return on !== 'hover';\n      });\n\n      var _style2 = applyEffects.reduce(function (acc, effect) {\n        return _objectSpread2(_objectSpread2({}, acc), effect.style);\n      }, {});\n\n      setStyle(_style2);\n    }\n\n    if (onMouseLeave === undefined) return;\n    onMouseLeave(data, event);\n  }, [onMouseLeave, data, effects]);\n\n  var _computeItemLayout = computeItemLayout({\n    direction: direction,\n    justify: justify,\n    symbolSize: style.symbolSize || symbolSize,\n    symbolSpacing: symbolSpacing,\n    width: width,\n    height: height\n  }),\n      symbolX = _computeItemLayout.symbolX,\n      symbolY = _computeItemLayout.symbolY,\n      labelX = _computeItemLayout.labelX,\n      labelY = _computeItemLayout.labelY,\n      labelAnchor = _computeItemLayout.labelAnchor,\n      labelAlignment = _computeItemLayout.labelAlignment;\n\n  var isInteractive = [onClick, onMouseEnter, onMouseLeave].some(function (handler) {\n    return handler !== undefined;\n  });\n  var Symbol;\n\n  if (isFunction(symbolShape)) {\n    Symbol = symbolShape;\n  } else {\n    Symbol = symbolByShape[symbolShape];\n  }\n\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\"),\n    style: {\n      opacity: style.itemOpacity !== undefined ? style.itemOpacity : opacity\n    }\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: style.itemBackground || background,\n    style: {\n      cursor: isInteractive ? 'pointer' : 'auto'\n    },\n    onClick: handleClick,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave\n  }), React.createElement(Symbol, {\n    id: data.id,\n    x: symbolX,\n    y: symbolY,\n    size: style.symbolSize || symbolSize,\n    fill: data.fill || data.color,\n    borderWidth: style.symbolBorderWidth !== undefined ? style.symbolBorderWidth : symbolBorderWidth,\n    borderColor: style.symbolBorderColor || symbolBorderColor\n  }), React.createElement(\"text\", {\n    textAnchor: labelAnchor,\n    style: _objectSpread2(_objectSpread2({}, theme.legends.text), {}, {\n      fill: style.itemTextColor || theme.legends.text.fill || textColor,\n      dominantBaseline: labelAlignment,\n      pointerEvents: 'none',\n      userSelect: 'none'\n    }),\n    x: labelX,\n    y: labelY\n  }, data.label));\n};\n\nLegendSvgItem.displayName = 'LegendSvgItem';\nLegendSvgItem.defaultProps = {\n  direction: 'left-to-right',\n  justify: false,\n  textColor: 'black',\n  background: 'transparent',\n  opacity: 1,\n  symbolShape: 'square',\n  symbolSize: 16,\n  symbolSpacing: 8,\n  symbolBorderWidth: 0,\n  symbolBorderColor: 'transparent',\n  effects: []\n};\n\nvar LegendSvg = function LegendSvg(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      direction = _ref.direction,\n      _padding = _ref.padding,\n      justify = _ref.justify,\n      effects = _ref.effects,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      itemDirection = _ref.itemDirection,\n      itemsSpacing = _ref.itemsSpacing,\n      itemTextColor = _ref.itemTextColor,\n      itemBackground = _ref.itemBackground,\n      itemOpacity = _ref.itemOpacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemsSpacing: itemsSpacing,\n    direction: direction,\n    padding: _padding\n  }),\n      padding = _computeDimensions.padding;\n\n  var xStep = 0;\n  var yStep = 0;\n\n  if (direction === 'row') {\n    xStep = itemWidth + itemsSpacing;\n  } else if (direction === 'column') {\n    yStep = itemHeight + itemsSpacing;\n  }\n\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, data.map(function (data, i) {\n    return React.createElement(LegendSvgItem, {\n      key: i,\n      data: data,\n      x: i * xStep + padding.left,\n      y: i * yStep + padding.top,\n      width: itemWidth,\n      height: itemHeight,\n      direction: itemDirection,\n      justify: justify,\n      effects: effects,\n      textColor: itemTextColor,\n      background: itemBackground,\n      opacity: itemOpacity,\n      symbolShape: symbolShape,\n      symbolSize: symbolSize,\n      symbolSpacing: symbolSpacing,\n      symbolBorderWidth: symbolBorderWidth,\n      symbolBorderColor: symbolBorderColor,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave\n    });\n  }));\n};\n\nLegendSvg.defaultProps = {\n  padding: 0,\n  justify: false,\n  itemsSpacing: 0,\n  itemDirection: 'left-to-right',\n  itemTextColor: 'black',\n  itemBackground: 'transparent',\n  itemOpacity: 1\n};\n\nvar BoxLegendSvg = function BoxLegendSvg(_ref) {\n  var data = _ref.data,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY,\n      anchor = _ref.anchor,\n      direction = _ref.direction,\n      padding = _ref.padding,\n      justify = _ref.justify,\n      itemsSpacing = _ref.itemsSpacing,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      itemDirection = _ref.itemDirection,\n      itemTextColor = _ref.itemTextColor,\n      itemBackground = _ref.itemBackground,\n      itemOpacity = _ref.itemOpacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      effects = _ref.effects;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemsSpacing: itemsSpacing,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    direction: direction,\n    padding: padding\n  }),\n      width = _computeDimensions.width,\n      height = _computeDimensions.height;\n\n  var _computePositionFromA = computePositionFromAnchor({\n    anchor: anchor,\n    translateX: translateX,\n    translateY: translateY,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    width: width,\n    height: height\n  }),\n      x = _computePositionFromA.x,\n      y = _computePositionFromA.y;\n\n  return React.createElement(LegendSvg, {\n    data: data,\n    x: x,\n    y: y,\n    direction: direction,\n    padding: padding,\n    justify: justify,\n    effects: effects,\n    itemsSpacing: itemsSpacing,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemDirection: itemDirection,\n    itemTextColor: itemTextColor,\n    itemBackground: itemBackground,\n    itemOpacity: itemOpacity,\n    symbolShape: symbolShape,\n    symbolSize: symbolSize,\n    symbolSpacing: symbolSpacing,\n    symbolBorderWidth: symbolBorderWidth,\n    symbolBorderColor: symbolBorderColor,\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  });\n};\n\nBoxLegendSvg.defaultProps = {\n  translateX: 0,\n  translateY: 0,\n  itemsSpacing: LegendSvg.defaultProps.itemsSpacing,\n  padding: LegendSvg.defaultProps.padding\n};\nvar textPropsMapping = {\n  align: {\n    start: 'left',\n    middle: 'center',\n    end: 'right'\n  },\n  baseline: {\n    hanging: 'top',\n    middle: 'middle',\n    central: 'middle',\n    baseline: 'bottom'\n  }\n};\n\nvar renderLegendToCanvas = function renderLegendToCanvas(ctx, _ref) {\n  var data = _ref.data,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      _ref$translateX = _ref.translateX,\n      translateX = _ref$translateX === void 0 ? BoxLegendSvg.defaultProps.translateX : _ref$translateX,\n      _ref$translateY = _ref.translateY,\n      translateY = _ref$translateY === void 0 ? BoxLegendSvg.defaultProps.translateY : _ref$translateY,\n      anchor = _ref.anchor,\n      direction = _ref.direction,\n      _ref$padding = _ref.padding,\n      _padding = _ref$padding === void 0 ? LegendSvg.defaultProps.padding : _ref$padding,\n      _ref$justify = _ref.justify,\n      justify = _ref$justify === void 0 ? LegendSvgItem.defaultProps.justify : _ref$justify,\n      _ref$itemsSpacing = _ref.itemsSpacing,\n      itemsSpacing = _ref$itemsSpacing === void 0 ? LegendSvg.defaultProps.itemsSpacing : _ref$itemsSpacing,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      _ref$itemDirection = _ref.itemDirection,\n      itemDirection = _ref$itemDirection === void 0 ? LegendSvgItem.defaultProps.direction : _ref$itemDirection,\n      _ref$itemTextColor = _ref.itemTextColor,\n      itemTextColor = _ref$itemTextColor === void 0 ? LegendSvg.defaultProps.textColor : _ref$itemTextColor,\n      _ref$symbolSize = _ref.symbolSize,\n      symbolSize = _ref$symbolSize === void 0 ? LegendSvgItem.defaultProps.symbolSize : _ref$symbolSize,\n      _ref$symbolSpacing = _ref.symbolSpacing,\n      symbolSpacing = _ref$symbolSpacing === void 0 ? LegendSvgItem.defaultProps.symbolSpacing : _ref$symbolSpacing,\n      theme = _ref.theme;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemsSpacing: itemsSpacing,\n    direction: direction,\n    padding: _padding\n  }),\n      width = _computeDimensions.width,\n      height = _computeDimensions.height,\n      padding = _computeDimensions.padding;\n\n  var _computePositionFromA = computePositionFromAnchor({\n    anchor: anchor,\n    translateX: translateX,\n    translateY: translateY,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    width: width,\n    height: height\n  }),\n      x = _computePositionFromA.x,\n      y = _computePositionFromA.y;\n\n  var xStep = 0;\n  var yStep = 0;\n\n  if (direction === DIRECTION_ROW) {\n    xStep = itemWidth + itemsSpacing;\n  } else if (direction === DIRECTION_COLUMN) {\n    yStep = itemHeight + itemsSpacing;\n  }\n\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.font = \"\".concat(theme.legends.text.fontSize, \"px \").concat(theme.legends.text.fontFamily || 'sans-serif');\n  data.forEach(function (d, i) {\n    var itemX = i * xStep + padding.left;\n    var itemY = i * yStep + padding.top;\n\n    var _computeItemLayout = computeItemLayout({\n      direction: itemDirection,\n      justify: justify,\n      symbolSize: symbolSize,\n      symbolSpacing: symbolSpacing,\n      width: itemWidth,\n      height: itemHeight\n    }),\n        symbolX = _computeItemLayout.symbolX,\n        symbolY = _computeItemLayout.symbolY,\n        labelX = _computeItemLayout.labelX,\n        labelY = _computeItemLayout.labelY,\n        labelAnchor = _computeItemLayout.labelAnchor,\n        labelAlignment = _computeItemLayout.labelAlignment;\n\n    ctx.fillStyle = d.color;\n    ctx.fillRect(itemX + symbolX, itemY + symbolY, symbolSize, symbolSize);\n    ctx.textAlign = textPropsMapping.align[labelAnchor];\n    ctx.textBaseline = textPropsMapping.baseline[labelAlignment];\n    ctx.fillStyle = itemTextColor || theme.legends.text.fill;\n    ctx.fillText(d.label, itemX + labelX, itemY + labelY);\n  });\n  ctx.restore();\n};\n\nvar useQuantizeColorScaleLegendData = function useQuantizeColorScaleLegendData(_ref) {\n  var scale = _ref.scale,\n      overriddenDomain = _ref.domain,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse,\n      _ref$valueFormat = _ref.valueFormat,\n      valueFormat = _ref$valueFormat === void 0 ? function (v) {\n    return v;\n  } : _ref$valueFormat,\n      _ref$separator = _ref.separator,\n      separator = _ref$separator === void 0 ? ' - ' : _ref$separator;\n  return useMemo(function () {\n    var domain = overriddenDomain || scale.range();\n    var items = domain.map(function (domainValue, index) {\n      var _scale$invertExtent = scale.invertExtent(domainValue),\n          _scale$invertExtent2 = _slicedToArray(_scale$invertExtent, 2),\n          start = _scale$invertExtent2[0],\n          end = _scale$invertExtent2[1];\n\n      return {\n        id: domainValue,\n        index: index,\n        extent: [start, end],\n        label: \"\".concat(valueFormat(start)).concat(separator).concat(valueFormat(end)),\n        value: scale(start),\n        color: domainValue\n      };\n    });\n    if (reverse === true) items.reverse();\n    return items;\n  }, [overriddenDomain, scale, reverse]);\n};\n\nexport { ANCHOR_BOTTOM, ANCHOR_BOTTOM_LEFT, ANCHOR_BOTTOM_RIGHT, ANCHOR_CENTER, ANCHOR_LEFT, ANCHOR_RIGHT, ANCHOR_TOP, ANCHOR_TOP_LEFT, ANCHOR_TOP_RIGHT, BoxLegendSvg, DIRECTION_BOTTOM_TO_TOP, DIRECTION_COLUMN, DIRECTION_LEFT_TO_RIGHT, DIRECTION_RIGHT_TO_LEFT, DIRECTION_ROW, DIRECTION_TOP_TO_BOTTOM, LegendPropShape, LegendSvg, LegendSvgItem, datumPropType, interactivityPropTypes, legendEffectPropType, renderLegendToCanvas, symbolPropTypes, useQuantizeColorScaleLegendData };","map":{"version":3,"mappings":"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","names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","Symbol","iterator","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","DIRECTION_ROW","DIRECTION_COLUMN","ANCHOR_TOP","ANCHOR_TOP_RIGHT","ANCHOR_RIGHT","ANCHOR_BOTTOM_RIGHT","ANCHOR_BOTTOM","ANCHOR_BOTTOM_LEFT","ANCHOR_LEFT","ANCHOR_TOP_LEFT","ANCHOR_CENTER","DIRECTION_LEFT_TO_RIGHT","DIRECTION_RIGHT_TO_LEFT","DIRECTION_TOP_TO_BOTTOM","DIRECTION_BOTTOM_TO_TOP","legendEffectPropType","PropTypes","shape","on","oneOfType","oneOf","isRequired","style","itemTextColor","string","itemBackground","itemOpacity","number","symbolSize","symbolBorderWidth","symbolBorderColor","symbolPropTypes","symbolShape","func","symbolSpacing","interactivityPropTypes","onClick","onMouseEnter","onMouseLeave","datumPropType","id","label","color","fill","LegendPropShape","data","arrayOf","anchor","translateX","translateY","direction","itemsSpacing","itemWidth","itemHeight","itemDirection","effects","zeroPadding","top","right","bottom","left","computeDimensions","_padding","padding","itemCount","isNumber","isPlainObject","horizontalPadding","verticalPadding","width","height","spacing","computePositionFromAnchor","containerWidth","containerHeight","x","y","computeItemLayout","justify","symbolX","symbolY","labelX","labelY","labelAnchor","labelAlignment","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_setPrototypeOf","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_typeof","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","assertThisInitialized","_createSuper","Derived","Super","result","isNativeReflectConstruct","NewTarget","possibleConstructorReturn","size","borderWidth","borderColor","symbolDefaultProps","SymbolCircle","React","r","cx","cy","strokeWidth","stroke","pointerEvents","PureComponent","defaultProps","SymbolDiamond","transform","d","SymbolSquare","SymbolTriangle","symbolByShape","circle","diamond","square","triangle","LegendSvgItem","textColor","background","opacity","useState","setStyle","theme","useTheme","handleClick","useCallback","event","handleMouseEnter","applyEffects","reduce","acc","effect","handleMouseLeave","isInteractive","some","handler","isFunction","cursor","createElement","textAnchor","legends","text","dominantBaseline","userSelect","displayName","LegendSvg","xStep","yStep","map","BoxLegendSvg","textPropsMapping","align","start","middle","end","baseline","hanging","central","renderLegendToCanvas","ctx","save","translate","font","fontSize","fontFamily","itemX","itemY","fillStyle","fillRect","textAlign","textBaseline","fillText","restore","useQuantizeColorScaleLegendData","scale","overriddenDomain","domain","reverse","valueFormat","v","separator","useMemo","range","items","domainValue","index","invertExtent","extent"],"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/constants.js","../src/props.js","../src/compute.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../src/svg/symbols/props.js","../src/svg/symbols/SymbolCircle.js","../src/svg/symbols/SymbolDiamond.js","../src/svg/symbols/SymbolSquare.js","../src/svg/symbols/SymbolTriangle.js","../src/svg/LegendSvgItem.js","../src/svg/LegendSvg.js","../src/svg/BoxLegendSvg.js","../src/canvas/index.js","../src/hooks.js"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nexport const DIRECTION_ROW = 'row'\nexport const DIRECTION_COLUMN = 'column'\n\nexport const ANCHOR_TOP = 'top'\nexport const ANCHOR_TOP_RIGHT = 'top-right'\nexport const ANCHOR_RIGHT = 'right'\nexport const ANCHOR_BOTTOM_RIGHT = 'bottom-right'\nexport const ANCHOR_BOTTOM = 'bottom'\nexport const ANCHOR_BOTTOM_LEFT = 'bottom-left'\nexport const ANCHOR_LEFT = 'left'\nexport const ANCHOR_TOP_LEFT = 'top-left'\nexport const ANCHOR_CENTER = 'center'\n\nexport const DIRECTION_LEFT_TO_RIGHT = 'left-to-right'\nexport const DIRECTION_RIGHT_TO_LEFT = 'right-to-left'\nexport const DIRECTION_TOP_TO_BOTTOM = 'top-to-bottom'\nexport const DIRECTION_BOTTOM_TO_TOP = 'bottom-to-top'\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport {\n    ANCHOR_BOTTOM,\n    ANCHOR_BOTTOM_LEFT,\n    ANCHOR_BOTTOM_RIGHT,\n    ANCHOR_CENTER,\n    ANCHOR_LEFT,\n    ANCHOR_RIGHT,\n    ANCHOR_TOP,\n    ANCHOR_TOP_LEFT,\n    ANCHOR_TOP_RIGHT,\n    DIRECTION_BOTTOM_TO_TOP,\n    DIRECTION_COLUMN,\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_ROW,\n    DIRECTION_TOP_TO_BOTTOM,\n} from './constants'\n\n/**\n * This can be used to add effect on legends on interaction.\n */\nexport const legendEffectPropType = PropTypes.shape({\n    on: PropTypes.oneOfType([PropTypes.oneOf(['hover'])]).isRequired,\n    style: PropTypes.shape({\n        itemTextColor: PropTypes.string,\n        itemBackground: PropTypes.string,\n        itemOpacity: PropTypes.number,\n        symbolSize: PropTypes.number,\n        symbolBorderWidth: PropTypes.number,\n        symbolBorderColor: PropTypes.string,\n    }).isRequired,\n})\n\nexport const symbolPropTypes = {\n    symbolShape: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    symbolSize: PropTypes.number,\n    symbolSpacing: PropTypes.number,\n    symbolBorderWidth: PropTypes.number,\n    symbolBorderColor: PropTypes.string,\n}\n\nexport const interactivityPropTypes = {\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n}\n\nexport const datumPropType = PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    fill: PropTypes.string,\n})\n\n/**\n * The prop type is exported as a simple object instead of `PropTypes.shape`\n * to be able to add extra properties.\n *\n * @example\n * ```javascript\n * import { LegendPropShape } from '@nivo/legends'\n *\n * const customLegendPropType = PropTypes.shape({\n *     ...LegendPropShape,\n *     extra: PropTypes.any.isRequired,\n * })\n * ```\n */\nexport const LegendPropShape = {\n    data: PropTypes.arrayOf(datumPropType),\n\n    // position & layout\n    anchor: PropTypes.oneOf([\n        ANCHOR_TOP,\n        ANCHOR_TOP_RIGHT,\n        ANCHOR_RIGHT,\n        ANCHOR_BOTTOM_RIGHT,\n        ANCHOR_BOTTOM,\n        ANCHOR_BOTTOM_LEFT,\n        ANCHOR_LEFT,\n        ANCHOR_TOP_LEFT,\n        ANCHOR_CENTER,\n    ]).isRequired,\n    translateX: PropTypes.number,\n    translateY: PropTypes.number,\n    direction: PropTypes.oneOf([DIRECTION_ROW, DIRECTION_COLUMN]).isRequired,\n\n    // item\n    itemsSpacing: PropTypes.number,\n    itemWidth: PropTypes.number.isRequired,\n    itemHeight: PropTypes.number.isRequired,\n    itemDirection: PropTypes.oneOf([\n        DIRECTION_LEFT_TO_RIGHT,\n        DIRECTION_RIGHT_TO_LEFT,\n        DIRECTION_TOP_TO_BOTTOM,\n        DIRECTION_BOTTOM_TO_TOP,\n    ]),\n    itemTextColor: PropTypes.string,\n    itemBackground: PropTypes.string,\n    itemOpacity: PropTypes.number,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n\n    effects: PropTypes.arrayOf(legendEffectPropType),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport isNumber from 'lodash/isNumber'\nimport isPlainObject from 'lodash/isPlainObject'\nimport {\n    ANCHOR_BOTTOM,\n    ANCHOR_BOTTOM_LEFT,\n    ANCHOR_BOTTOM_RIGHT,\n    ANCHOR_CENTER,\n    ANCHOR_LEFT,\n    ANCHOR_RIGHT,\n    ANCHOR_TOP,\n    ANCHOR_TOP_RIGHT,\n    DIRECTION_BOTTOM_TO_TOP,\n    DIRECTION_COLUMN,\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_ROW,\n    DIRECTION_TOP_TO_BOTTOM,\n} from './constants'\n\nconst zeroPadding = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n}\n\nexport const computeDimensions = ({\n    direction,\n    itemsSpacing,\n    padding: _padding,\n    itemCount,\n    itemWidth,\n    itemHeight,\n}) => {\n    let padding\n    if (isNumber(_padding)) {\n        padding = {\n            top: _padding,\n            right: _padding,\n            bottom: _padding,\n            left: _padding,\n        }\n    } else if (isPlainObject(_padding)) {\n        padding = {\n            ...zeroPadding,\n            ..._padding,\n        }\n    } else {\n        throw new TypeError(`Invalid property padding, must be one of: number, object`)\n    }\n\n    const horizontalPadding = padding.left + padding.right\n    const verticalPadding = padding.top + padding.bottom\n    let width = itemWidth + horizontalPadding\n    let height = itemHeight + verticalPadding\n    let spacing = (itemCount - 1) * itemsSpacing\n    if (direction === DIRECTION_ROW) {\n        width = itemWidth * itemCount + spacing + horizontalPadding\n    } else if (direction === DIRECTION_COLUMN) {\n        height = itemHeight * itemCount + spacing + verticalPadding\n    }\n\n    return { width, height, padding }\n}\n\nexport const computePositionFromAnchor = ({\n    anchor,\n    translateX,\n    translateY,\n    containerWidth,\n    containerHeight,\n    width,\n    height,\n}) => {\n    let x = translateX\n    let y = translateY\n\n    switch (anchor) {\n        case ANCHOR_TOP:\n            x += (containerWidth - width) / 2\n            break\n\n        case ANCHOR_TOP_RIGHT:\n            x += containerWidth - width\n            break\n\n        case ANCHOR_RIGHT:\n            x += containerWidth - width\n            y += (containerHeight - height) / 2\n            break\n\n        case ANCHOR_BOTTOM_RIGHT:\n            x += containerWidth - width\n            y += containerHeight - height\n            break\n\n        case ANCHOR_BOTTOM:\n            x += (containerWidth - width) / 2\n            y += containerHeight - height\n            break\n\n        case ANCHOR_BOTTOM_LEFT:\n            y += containerHeight - height\n            break\n\n        case ANCHOR_LEFT:\n            y += (containerHeight - height) / 2\n            break\n\n        case ANCHOR_CENTER:\n            x += (containerWidth - width) / 2\n            y += (containerHeight - height) / 2\n            break\n    }\n\n    return { x, y }\n}\n\nexport const computeItemLayout = ({\n    direction,\n    justify,\n    symbolSize,\n    symbolSpacing,\n    width,\n    height,\n}) => {\n    let symbolX\n    let symbolY\n\n    let labelX\n    let labelY\n    let labelAnchor\n    let labelAlignment\n\n    switch (direction) {\n        case DIRECTION_LEFT_TO_RIGHT:\n            symbolX = 0\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = width\n                labelAnchor = 'end'\n            } else {\n                labelX = symbolSize + symbolSpacing\n                labelAnchor = 'start'\n            }\n            break\n\n        case DIRECTION_RIGHT_TO_LEFT:\n            symbolX = width - symbolSize\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = 0\n                labelAnchor = 'start'\n            } else {\n                labelX = width - symbolSize - symbolSpacing\n                labelAnchor = 'end'\n            }\n            break\n\n        case DIRECTION_TOP_TO_BOTTOM:\n            symbolX = (width - symbolSize) / 2\n            symbolY = 0\n\n            labelX = width / 2\n\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = height\n                labelAlignment = 'alphabetic'\n            } else {\n                labelY = symbolSize + symbolSpacing\n                labelAlignment = 'text-before-edge'\n            }\n            break\n\n        case DIRECTION_BOTTOM_TO_TOP:\n            symbolX = (width - symbolSize) / 2\n            symbolY = height - symbolSize\n\n            labelX = width / 2\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = 0\n                labelAlignment = 'text-before-edge'\n            } else {\n                labelY = height - symbolSize - symbolSpacing\n                labelAlignment = 'alphabetic'\n            }\n            break\n    }\n\n    return {\n        symbolX,\n        symbolY,\n\n        labelX,\n        labelY,\n        labelAnchor,\n        labelAlignment,\n    }\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const symbolPropTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    fill: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nexport const symbolDefaultProps = {\n    borderWidth: 0,\n    borderColor: 'transparent',\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolCircle extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <circle\n                r={size / 2}\n                cx={x + size / 2}\n                cy={y + size / 2}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolDiamond extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <g transform={`translate(${x},${y})`}>\n                <path\n                    d={`\n                    M${size / 2} 0\n                    L${size * 0.8} ${size / 2}\n                    L${size / 2} ${size}\n                    L${size * 0.2} ${size / 2}\n                    L${size / 2} 0\n                `}\n                    fill={fill}\n                    strokeWidth={borderWidth}\n                    stroke={borderColor}\n                    style={{\n                        pointerEvents: 'none',\n                    }}\n                />\n            </g>\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolSquare extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <rect\n                x={x}\n                y={y}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                width={size}\n                height={size}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { PureComponent } from 'react'\nimport { symbolPropTypes, symbolDefaultProps } from './props'\n\nexport default class SymbolTriangle extends PureComponent {\n    static propTypes = {\n        ...symbolPropTypes,\n    }\n\n    static defaultProps = {\n        ...symbolDefaultProps,\n    }\n\n    render() {\n        const { x, y, size, fill, borderWidth, borderColor } = this.props\n\n        return (\n            <g transform={`translate(${x},${y})`}>\n                <path\n                    d={`\n                M${size / 2} 0\n                L${size} ${size}\n                L0 ${size}\n                L${size / 2} 0\n            `}\n                    fill={fill}\n                    strokeWidth={borderWidth}\n                    stroke={borderColor}\n                    style={{\n                        pointerEvents: 'none',\n                    }}\n                />\n            </g>\n        )\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport isFunction from 'lodash/isFunction'\nimport { useTheme } from '@nivo/core'\nimport { datumPropType, symbolPropTypes, interactivityPropTypes } from '../props'\nimport { computeItemLayout } from '../compute'\nimport { SymbolCircle, SymbolDiamond, SymbolSquare, SymbolTriangle } from './symbols'\n\nconst symbolByShape = {\n    circle: SymbolCircle,\n    diamond: SymbolDiamond,\n    square: SymbolSquare,\n    triangle: SymbolTriangle,\n}\n\nconst LegendSvgItem = ({\n    x,\n    y,\n    width,\n    height,\n    data,\n    direction,\n    justify,\n    textColor,\n    background,\n    opacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}) => {\n    const [style, setStyle] = useState({})\n    const theme = useTheme()\n\n    const handleClick = useCallback(event => onClick && onClick(data, event), [onClick, data])\n    const handleMouseEnter = useCallback(\n        event => {\n            if (effects.length > 0) {\n                const applyEffects = effects.filter(({ on }) => on === 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            if (onMouseEnter === undefined) return\n            onMouseEnter(data, event)\n        },\n        [onMouseEnter, data, effects]\n    )\n    const handleMouseLeave = useCallback(\n        event => {\n            if (effects.length > 0) {\n                const applyEffects = effects.filter(({ on }) => on !== 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            if (onMouseLeave === undefined) return\n            onMouseLeave(data, event)\n        },\n        [onMouseLeave, data, effects]\n    )\n\n    const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout({\n        direction,\n        justify,\n        symbolSize: style.symbolSize || symbolSize,\n        symbolSpacing,\n        width,\n        height,\n    })\n\n    const isInteractive = [onClick, onMouseEnter, onMouseLeave].some(\n        handler => handler !== undefined\n    )\n\n    let Symbol\n    if (isFunction(symbolShape)) {\n        Symbol = symbolShape\n    } else {\n        Symbol = symbolByShape[symbolShape]\n    }\n\n    return (\n        <g\n            transform={`translate(${x},${y})`}\n            style={{\n                opacity: style.itemOpacity !== undefined ? style.itemOpacity : opacity,\n            }}\n        >\n            <rect\n                width={width}\n                height={height}\n                fill={style.itemBackground || background}\n                style={{\n                    cursor: isInteractive ? 'pointer' : 'auto',\n                }}\n                onClick={handleClick}\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n            />\n            {React.createElement(Symbol, {\n                id: data.id,\n                x: symbolX,\n                y: symbolY,\n                size: style.symbolSize || symbolSize,\n                fill: data.fill || data.color,\n                borderWidth:\n                    style.symbolBorderWidth !== undefined\n                        ? style.symbolBorderWidth\n                        : symbolBorderWidth,\n                borderColor: style.symbolBorderColor || symbolBorderColor,\n            })}\n            <text\n                textAnchor={labelAnchor}\n                style={{\n                    ...theme.legends.text,\n                    fill: style.itemTextColor || theme.legends.text.fill || textColor,\n                    dominantBaseline: labelAlignment,\n                    pointerEvents: 'none',\n                    userSelect: 'none',\n                }}\n                x={labelX}\n                y={labelY}\n            >\n                {data.label}\n            </text>\n        </g>\n    )\n}\n\nLegendSvgItem.displayName = 'LegendSvgItem'\nLegendSvgItem.propTypes = {\n    data: datumPropType.isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n\n    textColor: PropTypes.string,\n    background: PropTypes.string,\n    opacity: PropTypes.number,\n\n    direction: PropTypes.oneOf(['left-to-right', 'right-to-left', 'top-to-bottom', 'bottom-to-top'])\n        .isRequired,\n    justify: PropTypes.bool.isRequired,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n}\nLegendSvgItem.defaultProps = {\n    direction: 'left-to-right',\n    justify: false,\n\n    textColor: 'black',\n    background: 'transparent',\n    opacity: 1,\n\n    symbolShape: 'square',\n    symbolSize: 16,\n    symbolSpacing: 8,\n    symbolBorderWidth: 0,\n    symbolBorderColor: 'transparent',\n\n    effects: [],\n}\n\nexport default LegendSvgItem\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport LegendSvgItem from './LegendSvgItem'\nimport { datumPropType, symbolPropTypes, interactivityPropTypes } from '../props'\nimport { computeDimensions } from '../compute'\nimport {\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_TOP_TO_BOTTOM,\n    DIRECTION_BOTTOM_TO_TOP,\n} from '../constants'\n\nconst LegendSvg = ({\n    data,\n\n    x,\n    y,\n    direction,\n    padding: _padding,\n    justify,\n    effects,\n\n    itemWidth,\n    itemHeight,\n    itemDirection,\n    itemsSpacing,\n    itemTextColor,\n    itemBackground,\n    itemOpacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n}) => {\n    // eslint-disable-next-line no-unused-vars\n    const { width, height, padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    let xStep = 0\n    let yStep = 0\n    if (direction === 'row') {\n        xStep = itemWidth + itemsSpacing\n    } else if (direction === 'column') {\n        yStep = itemHeight + itemsSpacing\n    }\n\n    return (\n        <g transform={`translate(${x},${y})`}>\n            {data.map((data, i) => (\n                <LegendSvgItem\n                    key={i}\n                    data={data}\n                    x={i * xStep + padding.left}\n                    y={i * yStep + padding.top}\n                    width={itemWidth}\n                    height={itemHeight}\n                    direction={itemDirection}\n                    justify={justify}\n                    effects={effects}\n                    textColor={itemTextColor}\n                    background={itemBackground}\n                    opacity={itemOpacity}\n                    symbolShape={symbolShape}\n                    symbolSize={symbolSize}\n                    symbolSpacing={symbolSpacing}\n                    symbolBorderWidth={symbolBorderWidth}\n                    symbolBorderColor={symbolBorderColor}\n                    onClick={onClick}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                />\n            ))}\n        </g>\n    )\n}\n\nLegendSvg.propTypes = {\n    data: PropTypes.arrayOf(datumPropType).isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    direction: PropTypes.oneOf(['row', 'column']).isRequired,\n    padding: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            top: PropTypes.number,\n            right: PropTypes.number,\n            bottom: PropTypes.number,\n            left: PropTypes.number,\n        }),\n    ]).isRequired,\n    justify: PropTypes.bool.isRequired,\n\n    itemsSpacing: PropTypes.number.isRequired,\n    itemWidth: PropTypes.number.isRequired,\n    itemHeight: PropTypes.number.isRequired,\n    itemDirection: PropTypes.oneOf([\n        DIRECTION_LEFT_TO_RIGHT,\n        DIRECTION_RIGHT_TO_LEFT,\n        DIRECTION_TOP_TO_BOTTOM,\n        DIRECTION_BOTTOM_TO_TOP,\n    ]).isRequired,\n    itemTextColor: PropTypes.string.isRequired,\n    itemBackground: PropTypes.string.isRequired,\n    itemOpacity: PropTypes.number.isRequired,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n}\n\nLegendSvg.defaultProps = {\n    padding: 0,\n    justify: false,\n\n    itemsSpacing: 0,\n    itemDirection: 'left-to-right',\n    itemTextColor: 'black',\n    itemBackground: 'transparent',\n    itemOpacity: 1,\n}\n\nexport default LegendSvg\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport LegendSvg from './LegendSvg'\nimport { datumPropType, symbolPropTypes, interactivityPropTypes } from '../props'\nimport { computeDimensions, computePositionFromAnchor } from '../compute'\nimport {\n    DIRECTION_ROW,\n    DIRECTION_COLUMN,\n    DIRECTION_BOTTOM_TO_TOP,\n    DIRECTION_LEFT_TO_RIGHT,\n    DIRECTION_RIGHT_TO_LEFT,\n    DIRECTION_TOP_TO_BOTTOM,\n    ANCHOR_TOP,\n    ANCHOR_TOP_RIGHT,\n    ANCHOR_RIGHT,\n    ANCHOR_BOTTOM_RIGHT,\n    ANCHOR_BOTTOM,\n    ANCHOR_BOTTOM_LEFT,\n    ANCHOR_LEFT,\n    ANCHOR_TOP_LEFT,\n    ANCHOR_CENTER,\n} from '../constants'\n\nconst BoxLegendSvg = ({\n    data,\n\n    containerWidth,\n    containerHeight,\n    translateX,\n    translateY,\n    anchor,\n    direction,\n    padding,\n    justify,\n\n    itemsSpacing,\n    itemWidth,\n    itemHeight,\n    itemDirection,\n    itemTextColor,\n    itemBackground,\n    itemOpacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}) => {\n    const { width, height } = computeDimensions({\n        itemCount: data.length,\n        itemsSpacing,\n        itemWidth,\n        itemHeight,\n        direction,\n        padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    return (\n        <LegendSvg\n            data={data}\n            x={x}\n            y={y}\n            direction={direction}\n            padding={padding}\n            justify={justify}\n            effects={effects}\n            itemsSpacing={itemsSpacing}\n            itemWidth={itemWidth}\n            itemHeight={itemHeight}\n            itemDirection={itemDirection}\n            itemTextColor={itemTextColor}\n            itemBackground={itemBackground}\n            itemOpacity={itemOpacity}\n            symbolShape={symbolShape}\n            symbolSize={symbolSize}\n            symbolSpacing={symbolSpacing}\n            symbolBorderWidth={symbolBorderWidth}\n            symbolBorderColor={symbolBorderColor}\n            onClick={onClick}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n        />\n    )\n}\n\nBoxLegendSvg.propTypes = {\n    data: PropTypes.arrayOf(datumPropType).isRequired,\n    containerWidth: PropTypes.number.isRequired,\n    containerHeight: PropTypes.number.isRequired,\n    translateX: PropTypes.number.isRequired,\n    translateY: PropTypes.number.isRequired,\n    anchor: PropTypes.oneOf([\n        ANCHOR_TOP,\n        ANCHOR_TOP_RIGHT,\n        ANCHOR_RIGHT,\n        ANCHOR_BOTTOM_RIGHT,\n        ANCHOR_BOTTOM,\n        ANCHOR_BOTTOM_LEFT,\n        ANCHOR_LEFT,\n        ANCHOR_TOP_LEFT,\n        ANCHOR_CENTER,\n    ]).isRequired,\n    direction: PropTypes.oneOf([DIRECTION_ROW, DIRECTION_COLUMN]).isRequired,\n    padding: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            top: PropTypes.number,\n            right: PropTypes.number,\n            bottom: PropTypes.number,\n            left: PropTypes.number,\n        }),\n    ]).isRequired,\n    justify: PropTypes.bool,\n\n    itemWidth: PropTypes.number.isRequired,\n    itemHeight: PropTypes.number.isRequired,\n    itemDirection: PropTypes.oneOf([\n        DIRECTION_LEFT_TO_RIGHT,\n        DIRECTION_RIGHT_TO_LEFT,\n        DIRECTION_TOP_TO_BOTTOM,\n        DIRECTION_BOTTOM_TO_TOP,\n    ]),\n    itemsSpacing: PropTypes.number.isRequired,\n    itemTextColor: PropTypes.string,\n    itemBackground: PropTypes.string,\n    itemOpacity: PropTypes.number,\n\n    ...symbolPropTypes,\n    ...interactivityPropTypes,\n}\n\nBoxLegendSvg.defaultProps = {\n    translateX: 0,\n    translateY: 0,\n    itemsSpacing: LegendSvg.defaultProps.itemsSpacing,\n    padding: LegendSvg.defaultProps.padding,\n}\n\nexport default BoxLegendSvg\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { computeDimensions, computePositionFromAnchor, computeItemLayout } from '../compute'\nimport BoxLegendSvg from '../svg/BoxLegendSvg'\nimport LegendSvg from '../svg/LegendSvg'\nimport LegendSvgItem from '../svg/LegendSvgItem'\nimport { DIRECTION_COLUMN, DIRECTION_ROW } from '../constants'\n\nconst textPropsMapping = {\n    align: {\n        start: 'left',\n        middle: 'center',\n        end: 'right',\n    },\n    baseline: {\n        hanging: 'top',\n        middle: 'middle',\n        central: 'middle',\n        baseline: 'bottom',\n    },\n}\n\nexport const renderLegendToCanvas = (\n    ctx,\n    {\n        data,\n\n        containerWidth,\n        containerHeight,\n        translateX = BoxLegendSvg.defaultProps.translateX,\n        translateY = BoxLegendSvg.defaultProps.translateY,\n        anchor,\n        direction,\n        padding: _padding = LegendSvg.defaultProps.padding,\n        justify = LegendSvgItem.defaultProps.justify,\n\n        // items\n        itemsSpacing = LegendSvg.defaultProps.itemsSpacing,\n        itemWidth,\n        itemHeight,\n        itemDirection = LegendSvgItem.defaultProps.direction,\n        itemTextColor = LegendSvg.defaultProps.textColor,\n\n        // symbol\n        symbolSize = LegendSvgItem.defaultProps.symbolSize,\n        symbolSpacing = LegendSvgItem.defaultProps.symbolSpacing,\n        // @todo add support for shapes\n        // symbolShape = LegendSvgItem.defaultProps.symbolShape,\n\n        theme,\n    }\n) => {\n    const { width, height, padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    let xStep = 0\n    let yStep = 0\n    if (direction === DIRECTION_ROW) {\n        xStep = itemWidth + itemsSpacing\n    } else if (direction === DIRECTION_COLUMN) {\n        yStep = itemHeight + itemsSpacing\n    }\n\n    ctx.save()\n    ctx.translate(x, y)\n\n    ctx.font = `${theme.legends.text.fontSize}px ${theme.legends.text.fontFamily || 'sans-serif'}`\n\n    data.forEach((d, i) => {\n        const itemX = i * xStep + padding.left\n        const itemY = i * yStep + padding.top\n\n        const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout(\n            {\n                direction: itemDirection,\n                justify,\n                symbolSize,\n                symbolSpacing,\n                width: itemWidth,\n                height: itemHeight,\n            }\n        )\n\n        ctx.fillStyle = d.color\n        ctx.fillRect(itemX + symbolX, itemY + symbolY, symbolSize, symbolSize)\n\n        ctx.textAlign = textPropsMapping.align[labelAnchor]\n        ctx.textBaseline = textPropsMapping.baseline[labelAlignment]\n        ctx.fillStyle = itemTextColor || theme.legends.text.fill\n        ctx.fillText(d.label, itemX + labelX, itemY + labelY)\n    })\n\n    ctx.restore()\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\n\nexport const useQuantizeColorScaleLegendData = ({\n    scale,\n    domain: overriddenDomain,\n    reverse = false,\n    valueFormat = v => v,\n    separator = ' - ',\n}) => {\n    return useMemo(() => {\n        const domain = overriddenDomain || scale.range()\n\n        const items = domain.map((domainValue, index) => {\n            const [start, end] = scale.invertExtent(domainValue)\n\n            return {\n                id: domainValue,\n                index,\n                extent: [start, end],\n                label: `${valueFormat(start)}${separator}${valueFormat(end)}`,\n                value: scale(start),\n                color: domainValue,\n            }\n        })\n        if (reverse === true) items.reverse()\n\n        return items\n    }, [overriddenDomain, scale, reverse])\n}\n"]},"metadata":{},"sourceType":"module"}